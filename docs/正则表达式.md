# 正则表达式

## 元字符

字符|说明
---|---
`.`|匹配除了换行符之外的任意字符
`\w`|匹配字母或数字或下划线或汉字
`\s`|匹配任意的空白字符
`\d`|匹配数字
`\b`|匹配单词的开始或结束
`^`|匹配字符串的开始
`$`|匹配字符串的结束

## 限定符

- `+`：跟在元字符后面，表示重复一次或多次。
- `*`：跟在元字符后面，表示重复零次或多次。
- `?`：重复零次或一次。
- `{n}`：重复 n 次。
- `{n,}`：重复 n 次或更多次。
- `{n, m}`：重复 n 到 m 次。

## 字符类

- 匹配字符集合：`[aeiou]`。
- 匹配标点符号：`[.?!]`。
- 匹配数字：`[3-5]`。

## 分支条件

可以使用 `|` 将两个正则表达式连接在一起，只要满足其中一个就匹配，要注意每个条件的顺序。

## 分组

使用括号将部分表达式进行分组，然后可以指定这个分组的重复次数。

## 反义

字符|说明
---|---
`\W`|匹配任意不是字母、数字、下划线、汉字的字符
`\S`|匹配任意不是空白字符的字符
`\D`|匹配任意非数字的字符
`\B`|匹配不是单词开头或结束的位置
`[^x]`|匹配除了 x 意外的任意字符
`[^aeiou]`|匹配除了 aeiou 之外的任意字符

## 后向引用

后向引用用于重复搜索前面某个分组匹配的文本。

捕获字符|说明
-------|---
`(exp)`|匹配 exp 并捕获文本到自动命名的组里
`(?<name>exp)`|匹配 exp 并捕获文本到名称为 name 的组里，尖括号可以换成单引号
`(?:exp)`|匹配 exp 不捕获匹配的文本，也不分配组号

反向引用：`\k<word>` 引用了 word 这个分组的内容。

## 零宽断言

用于查找在某些内容（不包括这些内容）之前或之后的东西。

- `(?=exp)`：零宽度正预测先行断言，断言自身出现的位置的后面能匹配表达式 exp。
- `(?<=exp)`：零宽度正回顾后发断言，断言自身出现的位置的前面能匹配表达式 exp。

## 负向零宽断言

只匹配一个位置，不消费任何字符。

- 零宽度负预测先行断言：`(?!exp)`，断言此位置的后面不能匹配表达式 exp。
- 零宽度负回顾后发断言：`(?<!exp)`，断言此位置的前面不能匹配表达式 exp。

## 贪婪与懒惰

贪婪匹配：匹配尽可能多的字符。
懒惰匹配：匹配尽可能少的字符，在限定符后加一个 `?`。
