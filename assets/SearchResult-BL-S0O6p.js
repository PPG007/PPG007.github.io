import{f as N,cm as J,cn as X,co as Z,cp as tt,az as ot,aO as et,g as M,W as j,a0 as t,cq as st,K as ct,cr as lt,cs as V,ct as at,cu as dt,cv as rt,cw as nt,cx as mt,cy as E,cz as A,cA as it,cB as ht,al as ut,a2 as pt,cC as gt,cD as vt,cE as bt,a1 as yt,cF as F,cG as _t,cH as x}from"./app-rQI8KFp-.js";const ft=["/","/SpringBoot/","/SpringMVC/","/SpringCloud/","/activemq/","/annotation-and-reflection/","/axios/","/clean-code/","/codingstyle/","/css/","/dart/","/design-pattern/","/docker/","/domain/","/dubbo/","/elasticsearch/","/es6/","/gin/","/git/","/go/","/grpc-and-protobuf/","/html/","/i18next/","/istio/","/javaio/","/javaknowledge/","/javanet/","/javascript/","/javathread/","/koa/","/kubernetes/","/laravel/","/linux/","/markdown/","/mongodb/","/mybatis/","/netty/","/openssl/","/openwrt/","/php/","/react/","/redis/","/regex/","/restful/","/rocketmq/","/spring/","/sql/","/tools/","/typescript/","/ubuntu-20.04-init/","/vscode/","/vue/","/wsl/","/yii/","/zookeeper/","/SpringBoot/docs/async.html","/SpringBoot/docs/auto_config.html","/SpringBoot/docs/config.html","/SpringBoot/docs/cron.html","/SpringBoot/docs/druid.html","/SpringBoot/docs/i18n.html","/SpringBoot/docs/jdbc.html","/SpringBoot/docs/mail.html","/SpringBoot/docs/mvc_config.html","/SpringBoot/docs/mybatis.html","/SpringBoot/docs/shiro.html","/SpringBoot/docs/spring_security.html","/SpringBoot/docs/thymeleaf.html","/SpringBoot/docs/web.html","/SpringMVC/docs/ajax.html","/SpringMVC/docs/controller.html","/SpringMVC/docs/file.html","/SpringMVC/docs/filter.html","/SpringMVC/docs/java_config.html","/SpringMVC/docs/json.html","/SpringMVC/docs/others.html","/SpringMVC/docs/servlet.html","/SpringMVC/docs/ssm.html","/SpringCloud/docs/bus.html","/SpringCloud/docs/config.html","/SpringCloud/docs/consul.html","/SpringCloud/docs/eureka.html","/SpringCloud/docs/feign.html","/SpringCloud/docs/gateway.html","/SpringCloud/docs/hystrix.html","/SpringCloud/docs/nacos.html","/SpringCloud/docs/open_feign.html","/SpringCloud/docs/ribbon.html","/SpringCloud/docs/sleuth.html","/SpringCloud/docs/start.html","/SpringCloud/docs/stream.html","/SpringCloud/docs/zookeeper.html","/SpringCloud/docs/zuul.html","/activemq/docs/advanced.html","/activemq/docs/broker.html","/activemq/docs/cluster.html","/activemq/docs/java_queue.html","/activemq/docs/java_topic.html","/activemq/docs/jms.html","/activemq/docs/linux_deploy.html","/activemq/docs/persistent.html","/activemq/docs/protocol.html","/activemq/docs/queue_case.html","/activemq/docs/spring_activemq.html","/activemq/docs/springboot_activemq.html","/activemq/docs/start.html","/annotation-and-reflection/docs/annotation_attribute.html","/annotation-and-reflection/docs/annotation_field_set.html","/annotation-and-reflection/docs/annotation_field_type.html","/annotation-and-reflection/docs/annotation_nature.html","/annotation-and-reflection/docs/annotation_set_param.html","/annotation-and-reflection/docs/builtin_annotation.html","/annotation-and-reflection/docs/class.html","/annotation-and-reflection/docs/classloader.html","/annotation-and-reflection/docs/get_annotation_attribute.html","/annotation-and-reflection/docs/meta_annotation.html","/annotation-and-reflection/docs/reflection_method.html","/axios/docs/cancel_request.html","/axios/docs/common_apis.html","/axios/docs/default_settings.html","/axios/docs/interceptor.html","/axios/docs/response_process.html","/axios/docs/start.html","/blogs/docs/sso.html","/clean-code/docs/border.html","/clean-code/docs/class.html","/clean-code/docs/comment.html","/clean-code/docs/concurrent_programming.html","/clean-code/docs/error.html","/clean-code/docs/format.html","/clean-code/docs/function.html","/clean-code/docs/meaningful_name.html","/clean-code/docs/object_and_data_struct.html","/clean-code/docs/start.html","/clean-code/docs/system.html","/clean-code/docs/unit_test.html","/codingstyle/docs/alibaba_java.html","/codingstyle/docs/css.html","/codingstyle/docs/html.html","/codingstyle/docs/javascript.html","/codingstyle/docs/start.html","/css/docs/background.html","/css/docs/border.html","/css/docs/box_model.html","/css/docs/color.html","/css/docs/flex.html","/css/docs/font.html","/css/docs/layout.html","/css/docs/link.html","/css/docs/outline.html","/css/docs/pseudo-element.html","/css/docs/pseudo_class.html","/css/docs/selector.html","/css/docs/text.html","/dart/docs/async.html","/dart/docs/callableClass.html","/dart/docs/class.html","/dart/docs/exception.html","/dart/docs/function.html","/dart/docs/generators.html","/dart/docs/generics.html","/dart/docs/importantConcept.html","/dart/docs/innerType.html","/dart/docs/operator.html","/dart/docs/processControl.html","/dart/docs/start.html","/dart/docs/variables.html","/design-pattern/docs/abstract_factory.html","/design-pattern/docs/adapter.html","/design-pattern/docs/builder.html","/design-pattern/docs/command.html","/design-pattern/docs/compose.html","/design-pattern/docs/decorator.html","/design-pattern/docs/demeter.html","/design-pattern/docs/dip.html","/design-pattern/docs/expression.html","/design-pattern/docs/facade.html","/design-pattern/docs/factory.html","/design-pattern/docs/fly_weight.html","/design-pattern/docs/interface_isolation.html","/design-pattern/docs/iterator.html","/design-pattern/docs/lsp.html","/design-pattern/docs/mediator.html","/design-pattern/docs/memento.html","/design-pattern/docs/observe.html","/design-pattern/docs/open_close.html","/design-pattern/docs/prototype.html","/design-pattern/docs/proxy.html","/design-pattern/docs/responsibility_chain.html","/design-pattern/docs/singleton.html","/design-pattern/docs/srp.html","/design-pattern/docs/state.html","/design-pattern/docs/strategy.html","/design-pattern/docs/template.html","/design-pattern/docs/visitor.html","/domain/docs/ca.html","/domain/docs/domain.html","/dubbo/docs/config_rule.html","/dubbo/docs/config_tag.html","/dubbo/docs/environment.html","/dubbo/docs/finish_config.html","/dubbo/docs/high_availability.html","/dubbo/docs/spring.html","/dubbo/docs/springboot.html","/dubbo/docs/start.html","/elasticsearch/docs/aggregation.html","/elasticsearch/docs/basic.html","/elasticsearch/docs/dsl.html","/elasticsearch/docs/esindex.html","/elasticsearch/docs/go-client.html","/elasticsearch/docs/mapping.html","/elasticsearch/docs/monstache.html","/elasticsearch/docs/others.html","/es6/docs/array_expansion.html","/es6/docs/async.html","/es6/docs/class_basic.html","/es6/docs/class_extends.html","/es6/docs/function_expansion.html","/es6/docs/let_const.html","/es6/docs/map.html","/es6/docs/module.html","/es6/docs/object_expansion.html","/es6/docs/object_new_function.html","/es6/docs/operator_expansion.html","/es6/docs/promise.html","/es6/docs/string_expansion.html","/es6/docs/variable_destructuring_assignment.html","/gin/docs/cookie_session.html","/gin/docs/data.html","/gin/docs/jwt.html","/gin/docs/log.html","/gin/docs/middleware.html","/gin/docs/render.html","/gin/docs/router.html","/gin/docs/start.html","/gin/docs/validator.html","/git/docs/basic.html","/git/docs/branch.html","/git/docs/code_review.html","/git/docs/customize.html","/git/docs/remote.html","/git/docs/start.html","/git/docs/tag.html","/go/docs/array.html","/go/docs/bool.html","/go/docs/complex.html","/go/docs/concurrent_programming.html","/go/docs/const.html","/go/docs/float.html","/go/docs/function.html","/go/docs/generics.html","/go/docs/init_main.html","/go/docs/int.html","/go/docs/interface.html","/go/docs/io.html","/go/docs/map.html","/go/docs/method.html","/go/docs/module.html","/go/docs/mongodb.html","/go/docs/pointer.html","/go/docs/pprof.html","/go/docs/process_control.html","/go/docs/redis.html","/go/docs/reflect.html","/go/docs/slice.html","/go/docs/standard_libs.html","/go/docs/string.html","/go/docs/struct.html","/go/docs/time.html","/go/docs/traps.html","/go/docs/type_convert.html","/go/docs/under_line.html","/go/docs/variable.html","/go/docs/web.html","/html/docs/URL.html","/html/docs/element_attributes.html","/html/docs/form.html","/html/docs/image.html","/html/docs/link.html","/html/docs/list.html","/html/docs/meta.html","/html/docs/multimedia.html","/html/docs/other.html","/html/docs/semantic_structure.html","/html/docs/table.html","/html/docs/text.html","/i18next/docs/basic.html","/istio/docs/basic.html","/istio/docs/examples.html","/istio/docs/installation.html","/istio/docs/principle.html","/istio/docs/trafficManagement.html","/javaio/docs/buffer.html","/javaio/docs/convert.html","/javaio/docs/data_stream.html","/javaio/docs/object_stream.html","/javaio/docs/print_stream.html","/javaio/docs/random_file.html","/javaio/docs/reader_writer.html","/javaio/docs/stdio.html","/javaknowledge/docs/execution_order_in_extend.html","/javaknowledge/docs/index_design.html","/javaknowledge/docs/interface_and_abstract_class.html","/javaknowledge/docs/is_like_has.html","/javaknowledge/docs/jvm_data.html","/javaknowledge/docs/mysql_index.html","/javaknowledge/docs/mysql_lock.html","/javaknowledge/docs/switch_param.html","/javaknowledge/docs/ternary_operator.html","/javaknowledge/docs/thread_local.html","/javaknowledge/docs/transaction.html","/javaknowledge/docs/transfer.html","/javanet/docs/tcp.html","/javanet/docs/udp.html","/javanet/docs/url.html","/javascript/docs/async.html","/javascript/docs/basic.html","/javascript/docs/builtin.html","/javascript/docs/data_type.html","/javascript/docs/dom.html","/javascript/docs/event.html","/javascript/docs/grammar.html","/javascript/docs/oop.html","/javascript/docs/operator.html","/javathread/docs/async_callback.html","/javathread/docs/atomic.html","/javathread/docs/basic.html","/javathread/docs/block_queue.html","/javathread/docs/cas.html","/javathread/docs/collection.html","/javathread/docs/fork_join.html","/javathread/docs/function_interface.html","/javathread/docs/jmm_volatile.html","/javathread/docs/lock.html","/javathread/docs/lock_case.html","/javathread/docs/rwlock.html","/javathread/docs/singleton.html","/javathread/docs/spin.html","/javathread/docs/synchronized.html","/javathread/docs/thread_method.html","/javathread/docs/thread_pool.html","/javathread/docs/util.html","/koa/docs/context.html","/koa/docs/error-handling.html","/koa/docs/middleware.html","/koa/docs/request.html","/koa/docs/response.html","/koa/docs/router.html","/koa/docs/start.html","/kubernetes/docs/basic.html","/kubernetes/docs/component.html","/kubernetes/docs/configMap.html","/kubernetes/docs/daemonSet.html","/kubernetes/docs/deployment.html","/kubernetes/docs/ingress.html","/kubernetes/docs/install.html","/kubernetes/docs/job.html","/kubernetes/docs/kuberesolver.html","/kubernetes/docs/manage.html","/kubernetes/docs/pod.html","/kubernetes/docs/secret.html","/kubernetes/docs/service.html","/kubernetes/docs/statefulSet.html","/kubernetes/docs/storage.html","/laravel/docs/artisan.html","/laravel/docs/concepts.html","/laravel/docs/context.html","/laravel/docs/controller.html","/laravel/docs/database.html","/laravel/docs/deploy.html","/laravel/docs/eloquent.html","/laravel/docs/error.html","/laravel/docs/log.html","/laravel/docs/middleware.html","/laravel/docs/request.html","/laravel/docs/response.html","/laravel/docs/routing.html","/laravel/docs/security.html","/laravel/docs/session.html","/laravel/docs/start.html","/laravel/docs/utils.html","/laravel/docs/validation.html","/linux/docs/basic.html","/markdown/docs/basic.html","/markdown/docs/expand.html","/markdown/docs/standard.html","/mongodb/docs/aggregation.html","/mongodb/docs/collection.html","/mongodb/docs/database.html","/mongodb/docs/document.html","/mybatis/docs/cache.html","/mybatis/docs/config.html","/mybatis/docs/crud.html","/mybatis/docs/dynamic_sql.html","/mybatis/docs/hello_mybatis.html","/mybatis/docs/jdbc.html","/mybatis/docs/life_cycle.html","/mybatis/docs/log.html","/mybatis/docs/multi_table.html","/mybatis/docs/resultmap.html","/netty/docs/encode_decode.html","/netty/docs/group_chat.html","/netty/docs/heart_check.html","/netty/docs/in_out.html","/netty/docs/io_model.html","/netty/docs/netty_core.html","/netty/docs/rpc.html","/netty/docs/task_queue.html","/netty/docs/tcp_package.html","/netty/docs/thread_model.html","/netty/docs/websocket.html","/openssl/docs/basic.html","/openssl/docs/ca.html","/openssl/docs/commands.html","/openwrt/docs/doubleEth.html","/openwrt/docs/singleEth.html","/openwrt/docs/smartDNS.html","/openwrt/docs/vmware.html","/php/docs/basic.html","/php/docs/class.html","/php/docs/const.html","/php/docs/control.html","/php/docs/enum.html","/php/docs/exception.html","/php/docs/expression.html","/php/docs/fiber.html","/php/docs/function.html","/php/docs/generator.html","/php/docs/install.html","/php/docs/namespace.html","/php/docs/operator.html","/php/docs/type.html","/php/docs/variable.html","/react/docs/cli.html","/react/docs/component.html","/react/docs/context.html","/react/docs/effect.html","/react/docs/hello.html","/react/docs/hooks.html","/react/docs/jsx.html","/react/docs/lifecycle.html","/react/docs/props.html","/react/docs/reducer.html","/react/docs/redux.html","/react/docs/ref.html","/react/docs/router.html","/react/docs/state.html","/redis/docs/cluster.html","/redis/docs/command.html","/redis/docs/config.html","/redis/docs/distributed_lock.html","/redis/docs/jedis.html","/redis/docs/master_slave.html","/redis/docs/persistent.html","/redis/docs/redis_template.html","/redis/docs/subscribe_publish.html","/redis/docs/transaction.html","/regex/docs/antonym.html","/regex/docs/back_reference.html","/regex/docs/case.html","/regex/docs/char.html","/regex/docs/greed_laziness.html","/regex/docs/group.html","/regex/docs/meta_char.html","/regex/docs/qualifier.html","/regex/docs/reverse_zero_width_assertion.html","/regex/docs/zero_width_assertion.html","/restful/docs/design.html","/restful/docs/others.html","/restful/docs/three_level.html","/rocketmq/docs/basic.html","/rocketmq/docs/examples-java.html","/rocketmq/docs/features.html","/rocketmq/docs/start.html","/spring/docs/annotation.html","/spring/docs/aop.html","/spring/docs/autowired.html","/spring/docs/di.html","/spring/docs/hello_spring.html","/spring/docs/ioc.html","/spring/docs/ioc_create_object.html","/spring/docs/java_config.html","/spring/docs/mybatis.html","/spring/docs/proxy.html","/spring/docs/spring_config.html","/spring/docs/start.html","/spring/docs/transaction.html","/sql/docs/database.html","/sql/docs/delete.html","/sql/docs/init.sql.html","/sql/docs/insert.html","/sql/docs/select.html","/sql/docs/update.html","/tools/docs/base64.html","/tools/docs/crypto.html","/tools/docs/hash.html","/tools/docs/json.html","/tools/docs/jwt.html","/tools/docs/objectId.html","/tools/docs/ocr.html","/tools/docs/pointDistance.html","/tools/docs/tax.html","/tools/docs/time.html","/tools/docs/url.html","/tools/docs/uuid.html","/typescript/docs/advance.html","/typescript/docs/basic.html","/typescript/docs/start.html","/ubuntu-20.04-init/docs/dart-flutter.html","/ubuntu-20.04-init/docs/debian-wifi.html","/ubuntu-20.04-init/docs/docker.html","/ubuntu-20.04-init/docs/git.html","/ubuntu-20.04-init/docs/go.html","/ubuntu-20.04-init/docs/java.html","/ubuntu-20.04-init/docs/maven.html","/ubuntu-20.04-init/docs/mongodb.html","/ubuntu-20.04-init/docs/mysql.html","/ubuntu-20.04-init/docs/nginx.html","/ubuntu-20.04-init/docs/nodejs.html","/ubuntu-20.04-init/docs/others.html","/ubuntu-20.04-init/docs/php.html","/ubuntu-20.04-init/docs/postman.html","/ubuntu-20.04-init/docs/protoc.html","/ubuntu-20.04-init/docs/python.html","/ubuntu-20.04-init/docs/redis.html","/ubuntu-20.04-init/docs/rtc.html","/ubuntu-20.04-init/docs/sogou_input.html","/ubuntu-20.04-init/docs/vscode.html","/ubuntu-20.04-init/docs/zsh.html","/vscode/docs/common_keys.html","/vscode/docs/common_settings.html","/yii/docs/concepts.html","/yii/docs/database.html","/yii/docs/formatting.html","/yii/docs/request.html","/yii/docs/restful.html","/yii/docs/start.html","/yii/docs/structure.html","/zookeeper/docs/api.html","/zookeeper/docs/distributed_lock.html","/zookeeper/docs/election.html","/zookeeper/docs/online_offline.html","/zookeeper/docs/shell.html","/zookeeper/docs/start.html","/grpc-and-protobuf/docs/grpc/bothStream.html","/grpc-and-protobuf/docs/grpc/clientStream.html","/grpc-and-protobuf/docs/grpc/gateway.html","/grpc-and-protobuf/docs/grpc/loadBalance.html","/grpc-and-protobuf/docs/grpc/metadataAndInterceptor.html","/grpc-and-protobuf/docs/grpc/serverStream.html","/grpc-and-protobuf/docs/grpc/start.html","/grpc-and-protobuf/docs/grpc/tls.html","/grpc-and-protobuf/docs/grpc/unary.html","/grpc-and-protobuf/docs/grpc/validate.html","/grpc-and-protobuf/docs/protobuf/customTag.html","/grpc-and-protobuf/docs/protobuf/installAndComplie.html","/grpc-and-protobuf/docs/protobuf/protoFile.html","/grpc-and-protobuf/docs/protobuf/styleGuide.html","/vue/docs/vue2/MVVM.html","/vue/docs/vue2/builtin_command.html","/vue/docs/vue2/class_style.html","/vue/docs/vue2/cli_proxy.html","/vue/docs/vue2/component.html","/vue/docs/vue2/component_event.html","/vue/docs/vue2/computed.html","/vue/docs/vue2/condition.html","/vue/docs/vue2/data_bind.html","/vue/docs/vue2/data_proxy.html","/vue/docs/vue2/el_data.html","/vue/docs/vue2/event.html","/vue/docs/vue2/event_bus.html","/vue/docs/vue2/filter.html","/vue/docs/vue2/life_cycle.html","/vue/docs/vue2/list.html","/vue/docs/vue2/publish_subscribe.html","/vue/docs/vue2/self_command.html","/vue/docs/vue2/slot.html","/vue/docs/vue2/start.html","/vue/docs/vue2/storage.html","/vue/docs/vue2/vue_cli.html","/vue/docs/vue2/vue_resource.html","/vue/docs/vue2/vue_router.html","/vue/docs/vue2/vuex.html","/vue/docs/vue2/watch.html","/vue/docs/vue3/common_composition.html","/vue/docs/vue3/new_component.html","/vue/docs/vue3/other_composition.html","/vue/docs/vue3/others.html","/vue/docs/vue3/start.html","/404.html","/SpringBoot/docs/","/SpringMVC/docs/","/SpringCloud/docs/","/activemq/docs/","/annotation-and-reflection/docs/","/axios/docs/","/blogs/docs/","/blogs/","/clean-code/docs/","/codingstyle/docs/","/css/docs/","/dart/docs/","/design-pattern/docs/","/domain/docs/","/dubbo/docs/","/elasticsearch/docs/","/es6/docs/","/gin/docs/","/git/docs/","/go/docs/","/html/docs/","/i18next/docs/","/istio/docs/","/javaio/docs/","/javaknowledge/docs/","/javanet/docs/","/javascript/docs/","/javathread/docs/","/koa/docs/","/kubernetes/docs/","/laravel/docs/","/linux/docs/","/markdown/docs/","/mongodb/docs/","/mybatis/docs/","/netty/docs/","/openssl/docs/","/openwrt/docs/","/php/docs/","/react/docs/","/redis/docs/","/regex/docs/","/restful/docs/","/rocketmq/docs/","/spring/docs/","/sql/docs/","/tools/docs/","/typescript/docs/","/ubuntu-20.04-init/docs/","/vscode/docs/","/yii/docs/","/zookeeper/docs/","/grpc-and-protobuf/docs/grpc/","/grpc-and-protobuf/docs/","/grpc-and-protobuf/docs/protobuf/","/vue/docs/vue2/","/vue/docs/","/vue/docs/vue3/","/category/","/category/web/","/category/%E5%AE%89%E5%85%A8/","/tag/","/article/","/star/","/timeline/"],kt="SLIMSEARCH_QUERY_HISTORY",b=F(kt,[]),jt=()=>{const{queryHistoryCount:c}=x;return{enabled:c>0,queryHistories:b,addQueryHistory:r=>{b.value=Array.from(new Set([r,...b.value.slice(0,c-1)]))},removeQueryHistory:r=>{b.value=[...b.value.slice(0,r),...b.value.slice(r+1)]}}},z=c=>ft[c.id]+("anchor"in c?`#${c.anchor}`:""),xt="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:D}=x,y=F(xt,[]),wt=()=>({enabled:D>0,resultHistories:y,addResultHistory:d=>{{const r={link:z(d),display:d.display};"header"in d&&(r.header=d.header),y.value=[r,...y.value.slice(0,D-1)]}},removeResultHistory:d=>{y.value=[...y.value.slice(0,d),...y.value.slice(d+1)]}}),St=c=>{const{page:d,routeLocale:r}=it(),w=ht(),l=M(0),_=j(()=>l.value>0),i=ut([]);return pt(()=>{const{search:S,terminate:p}=gt(),f=bt(g=>{const{resultsFilter:q=s=>s,querySplitter:v,suggestionsFilter:R,...a}=w.value;g?(l.value+=1,S(g,r.value,a).then(s=>q(s,g,r.value,d.value)).then(s=>{l.value-=1,i.value=s}).catch(s=>{console.warn(s),l.value-=1,l.value||(i.value=[])})):i.value=[]},x.searchDelay-x.suggestDelay,{maxWait:5e3});vt([c,r],([g])=>f(g.join(" "))),yt(()=>{p()})}),{isSearching:_,results:i}};var Ct=N({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(c,{emit:d}){const r=J(),w=X(),l=Z(tt),{addQueryHistory:_,queryHistories:i,removeQueryHistory:S}=jt(),{resultHistories:p,addResultHistory:f,removeResultHistory:g}=wt(),q=ot(c,"queries"),{results:v,isSearching:R}=St(q),a=et({isQuery:!0,index:0}),s=M(0),h=M(0),Q=j(()=>i.value.length>0||p.value.length>0),C=j(()=>v.value.length>0),H=j(()=>v.value[s.value]||null),$=()=>{const{isQuery:o,index:e}=a;e===0?(a.isQuery=!o,a.index=o?p.value.length-1:i.value.length-1):a.index=e-1},I=()=>{const{isQuery:o,index:e}=a;e===(o?i.value.length-1:p.value.length-1)?(a.isQuery=!o,a.index=0):a.index=e+1},T=()=>{s.value=s.value>0?s.value-1:v.value.length-1,h.value=H.value.contents.length-1},U=()=>{s.value=s.value<v.value.length-1?s.value+1:0,h.value=0},O=()=>{h.value<H.value.contents.length-1?h.value+=1:U()},P=()=>{h.value>0?h.value-=1:T()},B=o=>o.map(e=>_t(e)?e:t(e[0],e[1])),Y=o=>{if(o.type==="customField"){const e=nt[o.index]||"$content",[u,n=""]=mt(e)?e[w.value].split("$content"):e.split("$content");return o.display.map(m=>t("div",B([u,...m,n])))}return o.display.map(e=>t("div",B(e)))},k=()=>{s.value=0,h.value=0,d("updateQuery",""),d("close")},G=()=>t("div",{class:"slimsearch-records"},t("div",{class:"slimsearch-record"},[t("div",{class:"slimsearch-record-title"},l.value.queryHistory),t("ul",{class:"slimsearch-record-contents",role:"listbox"},i.value.map((o,e)=>{const u=a.isQuery&&a.index===e;return t("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u,onClick:()=>{d("updateQuery",o)}},t("div",[t(E,{class:"slimsearch-record-type"}),t("div",{class:"slimsearch-record-content"},o),t("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:A,onClick:n=>{n.preventDefault(),n.stopPropagation(),S(e)}})]))}))])),W=()=>t("ul",{class:"slimsearch-records"},t("li",{class:"slimsearch-record"},[t("div",{class:"slimsearch-record-title"},l.value.resultHistory),t("ul",{class:"slimsearch-record-contents",role:"listbox"},p.value.map((o,e)=>{const u=!a.isQuery&&a.index===e;return t("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u},t(V,{to:o.link,onClick:()=>{k()}},()=>[t(E,{class:"slimsearch-record-type"}),t("div",{class:"slimsearch-record-content"},[o.header?t("div",{class:"slimsearch-record-content-header"},o.header):null,t("div",o.display.map(n=>B(n)).flat())]),t("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:A,onClick:n=>{n.preventDefault(),n.stopPropagation(),g(e)}})]))}))]));return st("keydown",o=>{if(c.isFocusing){if(C.value){if(o.key==="ArrowUp")P();else if(o.key==="ArrowDown")O();else if(o.key==="Enter"){const e=H.value.contents[h.value];_(c.queries.join(" ")),f(e),r.push(z(e)),k()}}else if(o.key==="ArrowUp")$();else if(o.key==="ArrowDown")I();else if(o.key==="Enter"){const{index:e}=a;a.isQuery?(o.preventDefault(),d("updateQuery",i.value[e])):(r.push(p.value[e].link),k())}}}),ct([s,h],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:c.queries.length?!C.value:!Q.value}]},c.queries.length?R.value?t(lt,{hint:l.value.searching}):C.value?t("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},v.value.map(({title:o,contents:e},u)=>{const n=s.value===u;return t("div",{class:["slimsearch-record",{active:n}],role:"group","aria-selected":n},[t("div",{class:"slimsearch-record-title"},o||l.value.defaultTitle),t("ul",{class:"slimsearch-record-contents"},e.map((m,K)=>{const L=n&&h.value===K;return t("li",{class:["slimsearch-record-matches",{active:L}],role:"option","aria-selected":L},t(V,{to:z(m),onClick:()=>{_(c.queries.join(" ")),f(m),k()}},()=>[m.type==="text"?null:t(m.type==="title"?at:m.type==="heading"?dt:rt,{class:"slimsearch-record-type"}),t("div",{class:"slimsearch-record-content"},[m.type==="text"&&m.header?t("div",{class:"slimsearch-record-content-header"},m.header):null,t("div",Y(m))])]))}))])})):l.value.emptyResult:Q.value?[G(),W()]:l.value.emptyHistory)}});export{Ct as default};
