import{H as Te,C as ce,D as Ee,I as we,a3 as Y,a4 as H,a5 as ue,f as D,a6 as le,a7 as J,g as _,K as I,aO as de,c as be,o as fe,ab as Se,ac as ve,u as x,aS as ae,ao as W,am as Re,W as K,a2 as Oe,bj as $e,bs as xe,e as d,aC as q,bt as Be,bu as ke,bm as Ae,ah as Fe,a8 as Le,aa as te,bv as ze,V as me,af as Me,aq as Ve,bd as re,aN as Ie,bw as De,aJ as Ke,aA as Ue,aK as Ge,b0 as qe,ae as He}from"./app-UKhqlS50.js";import{l as We,n as Ye,p as Je,q as Xe,r as Qe,m as se,a as ne,t as Ze,v as je}from"./URL.vue_vue_type_style_index_0_scoped_63a2b590_lang-DiKxDB_1.js";import{c as L}from"./strings-D2r_cxYz.js";import{f as ea,t as oe,U as pe}from"./error-BmLTv-zV.js";import{E as F}from"./aria-BUADUvnR.js";import{u as aa}from"./index-D7TUhLIg.js";import{i as ta}from"./isPlainObject-CqwPC5YJ.js";function sa(e,a){return a.length<2?e:Te(e,We(a,0,-1))}function na(e,a){return a=ce(a,e),e=sa(e,a),e==null||delete e[Ee(Ye(a))]}function la(e){return ta(e)?void 0:e}var oa=1,ra=2,ia=4,ca=ea(function(e,a){var i={};if(e==null)return i;var b=!1;a=we(a,function(c){return c=ce(c,e),b||(b=c.length>1),c}),Je(e,Xe(e),i),b&&(i=Qe(i,oa|ra|ia,la));for(var t=a.length;t--;)na(i,a[t]);return i});const X=Symbol("tabsRootContextKey"),ua=Y({tabs:{type:H(Array),default:()=>se([])},tabRefs:{type:H(Object),default:()=>se({})}}),he="ElTabBar",da=D({name:he}),ba=D({...da,props:ua,setup(e,{expose:a}){const i=e,b=le(X);b||oe(he,"<el-tabs><el-tab-bar /></el-tabs>");const t=J("tabs"),c=_(),S=_(),v=()=>{let n=0,f=0;const N=["top","bottom"].includes(b.props.tabPosition)?"width":"height",r=N==="width"?"x":"y",B=r==="x"?"left":"top";return i.tabs.every(C=>{if(ae(C.paneName))return!1;const l=i.tabRefs[C.paneName];if(!l)return!1;if(!C.active)return!0;n=l[`offset${L(B)}`],f=l[`client${L(N)}`];const y=window.getComputedStyle(l);return N==="width"&&(f-=Number.parseFloat(y.paddingLeft)+Number.parseFloat(y.paddingRight),n+=Number.parseFloat(y.paddingLeft)),!1}),{[N]:`${f}px`,transform:`translate${L(r)}(${n}px)`}},h=()=>S.value=v(),m=[],E=()=>{m.forEach(n=>n.stop()),m.length=0,Object.values(i.tabRefs).forEach(n=>{m.push(ne(n,h))})};I(()=>i.tabs,async()=>{await W(),h(),E()},{immediate:!0});const g=ne(c,()=>h());return de(()=>{m.forEach(n=>n.stop()),m.length=0,g.stop()}),a({ref:c,update:h}),(n,f)=>(fe(),be("div",{ref_key:"barRef",ref:c,class:ve([x(t).e("active-bar"),x(t).is(x(b).props.tabPosition)]),style:Se(S.value)},null,6))}});var fa=ue(ba,[["__file","tab-bar.vue"]]);const va=Y({panes:{type:H(Array),default:()=>se([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ma={tabClick:(e,a,i)=>i instanceof Event,tabRemove:(e,a)=>a instanceof Event},ie="ElTabNav",pa=D({name:ie,props:va,emits:ma,setup(e,{expose:a,emit:i}){const b=le(X);b||oe(ie,"<el-tabs><tab-nav /></el-tabs>");const t=J("tabs"),c=Ze(),S=je(),v=_(),h=_(),m=_(),E=_({}),g=_(),n=_(!1),f=_(0),N=_(!1),r=_(!0),B=Re(),C=K(()=>["top","bottom"].includes(b.props.tabPosition)?"width":"height"),l=K(()=>({transform:`translate${C.value==="width"?"X":"Y"}(-${f.value}px)`})),y=()=>{if(!v.value)return;const o=v.value[`offset${L(C.value)}`],u=f.value;if(!u)return;const s=u>o?u-o:0;f.value=s},w=()=>{if(!v.value||!h.value)return;const o=h.value[`offset${L(C.value)}`],u=v.value[`offset${L(C.value)}`],s=f.value;if(o-s<=u)return;const P=o-s>u*2?s+u:o-u;f.value=P},k=async()=>{const o=h.value;if(!n.value||!m.value||!v.value||!o)return;await W();const u=E.value[e.currentName];if(!u)return;const s=v.value,P=["top","bottom"].includes(b.props.tabPosition),p=u.getBoundingClientRect(),T=s.getBoundingClientRect(),U=P?o.offsetWidth-T.width:o.offsetHeight-T.height,A=f.value;let O=A;P?(p.left<T.left&&(O=A-(T.left-p.left)),p.right>T.right&&(O=A+p.right-T.right)):(p.top<T.top&&(O=A-(T.top-p.top)),p.bottom>T.bottom&&(O=A+(p.bottom-T.bottom))),O=Math.max(O,0),f.value=Math.min(O,U)},z=()=>{var o;if(!h.value||!v.value)return;e.stretch&&((o=g.value)==null||o.update());const u=h.value[`offset${L(C.value)}`],s=v.value[`offset${L(C.value)}`],P=f.value;s<u?(n.value=n.value||{},n.value.prev=P,n.value.next=P+s<u,u-P<s&&(f.value=u-s)):(n.value=!1,P>0&&(f.value=0))},V=o=>{let u=0;switch(o.code){case F.left:case F.up:u=-1;break;case F.right:case F.down:u=1;break;default:return}const s=Array.from(o.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let p=s.indexOf(o.target)+u;p<0?p=s.length-1:p>=s.length&&(p=0),s[p].focus({preventScroll:!0}),s[p].click(),M()},M=()=>{r.value&&(N.value=!0)},R=()=>N.value=!1,Q=(o,u)=>{E.value[u]=o},_e=async()=>{await W();const o=E.value[e.currentName];o?.focus({preventScroll:!0})};return I(c,o=>{o==="hidden"?r.value=!1:o==="visible"&&setTimeout(()=>r.value=!0,50)}),I(S,o=>{o?setTimeout(()=>r.value=!0,50):r.value=!1}),ne(m,z),Oe(()=>setTimeout(()=>k(),0)),$e(()=>z()),a({scrollToActiveTab:k,removeFocus:R,focusActiveTab:_e,tabListRef:h,tabBarRef:g,scheduleRender:()=>xe(B)}),()=>{const o=n.value?[d("span",{class:[t.e("nav-prev"),t.is("disabled",!n.value.prev)],onClick:y},[d(q,null,{default:()=>[d(Be,null,null)]})]),d("span",{class:[t.e("nav-next"),t.is("disabled",!n.value.next)],onClick:w},[d(q,null,{default:()=>[d(ke,null,null)]})])]:null,u=e.panes.map((s,P)=>{var p,T,U,A;const O=s.uid,Z=s.props.disabled,G=(T=(p=s.props.name)!=null?p:s.index)!=null?T:`${P}`,j=!Z&&(s.isClosable||e.editable);s.index=`${P}`;const Ne=j?d(q,{class:"is-icon-close",onClick:$=>i("tabRemove",s,$)},{default:()=>[d(Ae,null,null)]}):null,Ce=((A=(U=s.slots).label)==null?void 0:A.call(U))||s.props.label,Pe=!Z&&s.active?0:-1;return d("div",{ref:$=>Q($,G),class:[t.e("item"),t.is(b.props.tabPosition),t.is("active",s.active),t.is("disabled",Z),t.is("closable",j),t.is("focus",N.value)],id:`tab-${G}`,key:`tab-${O}`,"aria-controls":`pane-${G}`,role:"tab","aria-selected":s.active,tabindex:Pe,onFocus:()=>M(),onBlur:()=>R(),onClick:$=>{R(),i("tabClick",s,G,$)},onKeydown:$=>{j&&($.code===F.delete||$.code===F.backspace)&&i("tabRemove",s,$)}},[Ce,Ne])});return B.value,d("div",{ref:m,class:[t.e("nav-wrap"),t.is("scrollable",!!n.value),t.is(b.props.tabPosition)]},[o,d("div",{class:t.e("nav-scroll"),ref:v},[e.panes.length>0?d("div",{class:[t.e("nav"),t.is(b.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(b.props.tabPosition))],ref:h,style:l.value,role:"tablist",onKeydown:V},[e.type?null:d(fa,{ref:g,tabs:[...e.panes],tabRefs:E.value},null),u]):null])])}}}),ha=Y({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:H(Function),default:()=>!0},stretch:Boolean}),ee=e=>Fe(e)||Le(e),ga={[pe]:e=>ee(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>ee(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>ee(e),tabAdd:()=>!0},ya=D({name:"ElTabs",props:ha,emits:ga,setup(e,{emit:a,slots:i,expose:b}){var t;const c=J("tabs"),S=K(()=>["left","right"].includes(e.tabPosition)),{children:v,addChild:h,removeChild:m,ChildrenSorter:E}=aa(me(),"ElTabPane"),g=_(),n=_((t=e.modelValue)!=null?t:"0"),f=async(l,y=!1)=>{var w,k,z,V;if(!(n.value===l||ae(l)))try{let M;if(e.beforeLeave){const R=e.beforeLeave(l,n.value);M=R instanceof Promise?await R:R}else M=!0;if(M!==!1){const R=(w=v.value.find(Q=>Q.paneName===n.value))==null?void 0:w.isFocusInsidePane();n.value=l,y&&(a(pe,l),a("tabChange",l)),(z=(k=g.value)==null?void 0:k.removeFocus)==null||z.call(k),R&&((V=g.value)==null||V.focusActiveTab())}}catch{}},N=(l,y,w)=>{l.props.disabled||(a("tabClick",l,w),f(y,!0))},r=(l,y)=>{l.props.disabled||ae(l.props.name)||(y.stopPropagation(),a("edit",l.props.name,"remove"),a("tabRemove",l.props.name))},B=()=>{a("edit",void 0,"add"),a("tabAdd")},C=l=>{const y=l.el.firstChild,w=["bottom","right"].includes(e.tabPosition)?l.children[0].el:l.children[1].el;y!==w&&y.before(w)};return I(()=>e.modelValue,l=>f(l)),I(n,async()=>{var l;await W(),(l=g.value)==null||l.scrollToActiveTab()}),Me(X,{props:e,currentName:n,registerPane:h,unregisterPane:m,nav$:g}),b({currentName:n,get tabNavRef(){return ca(g.value,["scheduleRender"])}}),()=>{const l=i["add-icon"],y=e.editable||e.addable?d("div",{class:[c.e("new-tab"),S.value&&c.e("new-tab-vertical")],tabindex:"0",onClick:B,onKeydown:V=>{[F.enter,F.numpadEnter].includes(V.code)&&B()}},[l?te(i,"add-icon"):d(q,{class:c.is("icon-plus")},{default:()=>[d(ze,null,null)]})]):null,w=()=>d(pa,{ref:g,currentName:n.value,editable:e.editable,type:e.type,panes:v.value,stretch:e.stretch,onTabClick:N,onTabRemove:r},null),k=d("div",{class:[c.e("header"),S.value&&c.e("header-vertical"),c.is(e.tabPosition)]},[d(E,null,{default:w,$stable:!0}),y]),z=d("div",{class:c.e("content")},[te(i,"default")]);return d("div",{class:[c.b(),c.m(e.tabPosition),{[c.m("card")]:e.type==="card",[c.m("border-card")]:e.type==="border-card"}],onVnodeMounted:C,onVnodeUpdated:C},[z,k])}}});var _a=ya;const Na=Y({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ge="ElTabPane",Ca=D({name:ge}),Pa=D({...Ca,props:Na,setup(e){const a=e,i=me(),b=Ve(),t=le(X);t||oe(ge,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const c=J("tab-pane"),S=_(),v=_(),h=K(()=>a.closable||t.props.closable),m=re(()=>{var r;return t.currentName.value===((r=a.name)!=null?r:v.value)}),E=_(m.value),g=K(()=>{var r;return(r=a.name)!=null?r:v.value}),n=re(()=>!a.lazy||E.value||m.value),f=()=>{var r;return(r=S.value)==null?void 0:r.contains(document.activeElement)};I(m,r=>{r&&(E.value=!0)});const N=Ie({uid:i.uid,getVnode:()=>i.vnode,slots:b,props:a,paneName:g,active:m,index:v,isClosable:h,isFocusInsidePane:f});return t.registerPane(N),de(()=>{t.unregisterPane(N)}),De(()=>{var r;b.label&&((r=t.nav$.value)==null||r.scheduleRender())}),(r,B)=>x(n)?Ke((fe(),be("div",{key:0,id:`pane-${x(g)}`,ref_key:"paneRef",ref:S,class:ve(x(c).b()),role:"tabpanel","aria-hidden":!x(m),"aria-labelledby":`tab-${x(g)}`},[te(r.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ge,x(m)]]):Ue("v-if",!0)}});var ye=ue(Pa,[["__file","tab-pane.vue"]]);const xa=He(_a,{TabPane:ye}),Ba=qe(ye);export{Ba as E,xa as a};
