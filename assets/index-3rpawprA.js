import{aG as te,f as re,a3 as J,a7 as ie,e as Q,a0 as Ve,aa as k,a4 as ue,ai as Ie,b8 as we,by as Se,W as I,Q as he,bT as ce,K as q,ci as Ee,bx as xe,bk as ke,bw as Pe,V as Be,b5 as Te,aM as de,g as _,cj as Fe,bh as Me,a2 as Ne,ck as Oe,bD as fe,ao as Ae,a8 as N,ay as z,aj as De,a5 as _e,aQ as ze,aO as Le,at as $e,aT as Y,ar as Ke,as as Ue,bj as We,c as ae,o as E,aK as me,aA as pe,u as l,aY as H,ac as oe,w as j,h as G,aW as Ye,cl as He,aC as ve,bS as je,bt as Ge,c3 as Qe,aF as le,ah as Ze,ae as qe}from"./app-rQI8KFp-.js";import{P as se}from"./vnode-BwkhdqlV.js";import{t as Je,i as Xe}from"./index-BpopSzLc.js";import{U as w,t as ge,I as Z,C as Ce,d as be}from"./event-BE20p1dL.js";import{a as Re}from"./index-DVJGENsP.js";import{b as en,E as nn,i as tn}from"./index-B-lsNp-L.js";import{v as ye}from"./index-CgRJwyNG.js";const an=n=>{if(!n)return{onClick:te,onMousedown:te,onMouseup:te};let i=!1,u=!1;return{onClick:r=>{i&&u&&n(r),i=u=!1},onMousedown:r=>{i=r.target===r.currentTarget},onMouseup:r=>{u=r.target===r.currentTarget}}},on=J({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ue([String,Array,Object])},zIndex:{type:ue([String,Number])}}),ln={click:n=>n instanceof MouseEvent},sn="overlay";var un=re({name:"ElOverlay",props:on,emits:ln,setup(n,{slots:i,emit:u}){const a=ie(sn),m=v=>{u("click",v)},{onClick:c,onMousedown:r,onMouseup:s}=an(n.customMaskEvent?void 0:m);return()=>n.mask?Q("div",{class:[a.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:c,onMousedown:r,onMouseup:s},[k(i,"default")],se.STYLE|se.CLASS|se.PROPS,["onClick","onMouseup","onMousedown"]):Ve("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[k(i,"default")])}});const In=un,rn=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ie},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),wn={close:()=>!0},Sn=J({...rn,appendToBody:Boolean,appendTo:{type:Je.to.type,default:"body"},beforeClose:{type:ue(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),En={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[w]:n=>we(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},cn=(n,i={})=>{Se(n)||ge("[useLockscreen]","You need to pass a ref param to this function");const u=i.ns||ie("popup"),a=I(()=>u.bm("parent","hidden"));if(!he||ce(document.body,a.value))return;let m=0,c=!1,r="0";const s=()=>{setTimeout(()=>{typeof document>"u"||c&&document&&(document.body.style.width=r,Pe(document.body,a.value))},200)};q(n,v=>{if(!v){s();return}c=!ce(document.body,a.value),c&&(r=document.body.style.width,xe(document.body,a.value)),m=Re(u.namespace.value);const b=document.documentElement.clientHeight<document.body.scrollHeight,g=ke(document.body,"overflowY");m>0&&(b||g==="scroll")&&c&&(document.body.style.width=`calc(100% - ${m}px)`)}),Ee(()=>s())},xn=(n,i)=>{var u;const m=Be().emit,{nextZIndex:c}=Te();let r="";const s=de(),v=de(),b=_(!1),g=_(!1),x=_(!1),S=_((u=n.zIndex)!=null?u:c());let C,y;const P=Fe("namespace",Oe),B=I(()=>{const e={},t=`--${P.value}-dialog`;return n.fullscreen||(n.top&&(e[`${t}-margin-top`]=n.top),n.width&&(e[`${t}-width`]=Me(n.width))),e}),L=I(()=>n.alignCenter?{display:"flex"}:{});function $(){m("opened")}function T(){m("closed"),m(w,!1),n.destroyOnClose&&(x.value=!1)}function F(){m("close")}function M(){y?.(),C?.(),n.openDelay&&n.openDelay>0?{stop:C}=fe(()=>K(),n.openDelay):K()}function V(){C?.(),y?.(),n.closeDelay&&n.closeDelay>0?{stop:y}=fe(()=>A(),n.closeDelay):A()}function O(){function e(t){t||(g.value=!0,b.value=!1)}n.beforeClose?n.beforeClose(e):V()}function X(){n.closeOnClickModal&&O()}function K(){he&&(b.value=!0)}function A(){b.value=!1}function R(){m("openAutoFocus")}function ee(){m("closeAutoFocus")}function D(e){var t;((t=e.detail)==null?void 0:t.focusReason)==="pointer"&&e.preventDefault()}n.lockScroll&&cn(b);function ne(){n.closeOnPressEscape&&O()}return q(()=>n.modelValue,e=>{e?(g.value=!1,M(),x.value=!0,S.value=Xe(n.zIndex)?c():S.value++,Ae(()=>{m("open"),i.value&&(i.value.parentElement.scrollTop=0,i.value.parentElement.scrollLeft=0,i.value.scrollTop=0)})):b.value&&V()}),q(()=>n.fullscreen,e=>{i.value&&(e?(r=i.value.style.transform,i.value.style.transform=""):i.value.style.transform=r)}),Ne(()=>{n.modelValue&&(b.value=!0,x.value=!0,M())}),{afterEnter:$,afterLeave:T,beforeLeave:F,handleClose:O,onModalClick:X,close:V,doClose:A,onOpenAutoFocus:R,onCloseAutoFocus:ee,onCloseRequested:ne,onFocusoutPrevented:D,titleId:s,bodyId:v,closed:g,style:B,overlayDialogStyle:L,rendered:x,visible:b,zIndex:S}},dn=J({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:De,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||N(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...en(["ariaLabel"])}),fn={[Ce]:(n,i)=>i!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[Z]:n=>N(n)||z(n),[w]:n=>N(n)||z(n)},mn=re({name:"ElInputNumber"}),pn=re({...mn,props:dn,emits:fn,setup(n,{expose:i,emit:u}){const a=n,{t:m}=ze(),c=ie("input-number"),r=_(),s=Le({currentValue:a.modelValue,userInput:null}),{formItem:v}=$e(),b=I(()=>N(a.modelValue)&&a.modelValue<=a.min),g=I(()=>N(a.modelValue)&&a.modelValue>=a.max),x=I(()=>{const e=L(a.step);return Y(a.precision)?Math.max(L(a.modelValue),e):(e>a.precision,a.precision)}),S=I(()=>a.controls&&a.controlsPosition==="right"),C=Ke(),y=Ue(),P=I(()=>{if(s.userInput!==null)return s.userInput;let e=s.currentValue;if(z(e))return"";if(N(e)){if(Number.isNaN(e))return"";Y(a.precision)||(e=e.toFixed(a.precision))}return e}),B=(e,t)=>{if(Y(t)&&(t=x.value),t===0)return Math.round(e);let o=String(e);const d=o.indexOf(".");if(d===-1||!o.replace(".","").split("")[d+t])return e;const U=o.length;return o.charAt(U-1)==="5"&&(o=`${o.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(o).toFixed(t))},L=e=>{if(z(e))return 0;const t=e.toString(),o=t.indexOf(".");let d=0;return o!==-1&&(d=t.length-o-1),d},$=(e,t=1)=>N(e)?B(e+a.step*t):s.currentValue,T=()=>{if(a.readonly||y.value||g.value)return;const e=Number(P.value)||0,t=$(e);V(t),u(Z,s.currentValue),D()},F=()=>{if(a.readonly||y.value||b.value)return;const e=Number(P.value)||0,t=$(e,-1);V(t),u(Z,s.currentValue),D()},M=(e,t)=>{const{max:o,min:d,step:f,precision:h,stepStrictly:U,valueOnClear:W}=a;o<d&&ge("InputNumber","min should not be greater than max.");let p=Number(e);if(z(e)||Number.isNaN(p))return null;if(e===""){if(W===null)return null;p=Ze(W)?{min:d,max:o}[W]:W}return U&&(p=B(Math.round(p/f)*f,h),p!==e&&t&&u(w,p)),Y(h)||(p=B(p,h)),(p>o||p<d)&&(p=p>o?o:d,t&&u(w,p)),p},V=(e,t=!0)=>{var o;const d=s.currentValue,f=M(e);if(!t){u(w,f);return}d===f&&e||(s.userInput=null,u(w,f),d!==f&&u(Ce,f,d),a.validateEvent&&((o=v?.validate)==null||o.call(v,"change").catch(h=>be())),s.currentValue=f)},O=e=>{s.userInput=e;const t=e===""?null:Number(e);u(Z,t),V(t,!1)},X=e=>{const t=e!==""?Number(e):"";(N(t)&&!Number.isNaN(t)||e==="")&&V(t),D(),s.userInput=null},K=()=>{var e,t;(t=(e=r.value)==null?void 0:e.focus)==null||t.call(e)},A=()=>{var e,t;(t=(e=r.value)==null?void 0:e.blur)==null||t.call(e)},R=e=>{u("focus",e)},ee=e=>{var t,o;s.userInput=null,tn()&&s.currentValue===null&&((t=r.value)!=null&&t.input)&&(r.value.input.value=""),u("blur",e),a.validateEvent&&((o=v?.validate)==null||o.call(v,"blur").catch(d=>be()))},D=()=>{s.currentValue!==a.modelValue&&(s.currentValue=a.modelValue)},ne=e=>{document.activeElement===e.target&&e.preventDefault()};return q(()=>a.modelValue,(e,t)=>{const o=M(e,!0);s.userInput===null&&o!==t&&(s.currentValue=o)},{immediate:!0}),Ne(()=>{var e;const{min:t,max:o,modelValue:d}=a,f=(e=r.value)==null?void 0:e.input;if(f.setAttribute("role","spinbutton"),Number.isFinite(o)?f.setAttribute("aria-valuemax",String(o)):f.removeAttribute("aria-valuemax"),Number.isFinite(t)?f.setAttribute("aria-valuemin",String(t)):f.removeAttribute("aria-valuemin"),f.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),f.setAttribute("aria-disabled",String(y.value)),!N(d)&&d!=null){let h=Number(d);Number.isNaN(h)&&(h=null),u(w,h)}f.addEventListener("wheel",ne,{passive:!1})}),We(()=>{var e,t;const o=(e=r.value)==null?void 0:e.input;o?.setAttribute("aria-valuenow",`${(t=s.currentValue)!=null?t:""}`)}),i({focus:K,blur:A}),(e,t)=>(E(),ae("div",{class:oe([l(c).b(),l(c).m(l(C)),l(c).is("disabled",l(y)),l(c).is("without-controls",!e.controls),l(c).is("controls-right",l(S))]),onDragstart:le(()=>{},["prevent"])},[e.controls?me((E(),ae("span",{key:0,role:"button","aria-label":l(m)("el.inputNumber.decrease"),class:oe([l(c).e("decrease"),l(c).is("disabled",l(b))]),onKeydown:H(F,["enter"])},[k(e.$slots,"decrease-icon",{},()=>[Q(l(ve),null,{default:j(()=>[l(S)?(E(),G(l(Ye),{key:0})):(E(),G(l(He),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(ye),F]]):pe("v-if",!0),e.controls?me((E(),ae("span",{key:1,role:"button","aria-label":l(m)("el.inputNumber.increase"),class:oe([l(c).e("increase"),l(c).is("disabled",l(g))]),onKeydown:H(T,["enter"])},[k(e.$slots,"increase-icon",{},()=>[Q(l(ve),null,{default:j(()=>[l(S)?(E(),G(l(je),{key:0})):(E(),G(l(Ge),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(ye),T]]):pe("v-if",!0),Q(l(nn),{id:e.id,ref_key:"input",ref:r,type:"number",step:e.step,"model-value":l(P),placeholder:e.placeholder,readonly:e.readonly,disabled:l(y),size:l(C),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[H(le(T,["prevent"]),["up"]),H(le(F,["prevent"]),["down"])],onBlur:ee,onFocus:R,onInput:O,onChange:X},Qe({_:2},[e.$slots.prefix?{name:"prefix",fn:j(()=>[k(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:j(()=>[k(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var vn=_e(pn,[["__file","input-number.vue"]]);const kn=qe(vn);export{In as E,rn as a,En as b,Sn as c,wn as d,an as e,kn as f,xn as u};
