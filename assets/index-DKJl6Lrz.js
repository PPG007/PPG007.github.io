import{z as re,a3 as U,a5 as F,f as W,a6 as te,a7 as ae,g,W as R,aO as ne,az as X,h as $,o as x,w as se,aJ as ie,a as I,aE as ce,ac as B,u as z,ab as K,aK as ue,be as fe,Q as le,c as oe,e as Y,aB as ve,a8 as N,a4 as de,bh as q,K as G,af as me,aN as pe,bi as he,a2 as be,ao as J,bj as ge,aA as ye,aa as Se,ad as we,a9 as ze,ae as Ee,aR as He,b4 as _e}from"./app-UKhqlS50.js";import{u as j,a as Q}from"./URL.vue_vue_type_style_index_0_scoped_63a2b590_lang-DiKxDB_1.js";import{t as Te}from"./error-BmLTv-zV.js";import{b as Ce}from"./index-DXcwqp50.js";function Ve(){if(!arguments.length)return[];var a=arguments[0];return re(a)?a:[a]}const L=4,Le={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Re=({move:a,size:l,bar:o})=>({[o.size]:l,transform:`translate${o.axis}(${a}%)`}),V=Symbol("scrollbarContextKey"),ke=U({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ne="Thumb",xe=W({__name:"thumb",props:ke,setup(a){const l=a,o=te(V),s=ae("scrollbar");o||Te(Ne,"can not inject scrollbar context");const n=g(),i=g(),d=g({}),m=g(!1);let c=!1,u=!1,p=0,y=0,r=le?document.onselectstart:null;const e=R(()=>Le[l.vertical?"vertical":"horizontal"]),b=R(()=>Re({size:l.size,move:l.move,bar:e.value})),S=R(()=>n.value[e.value.offset]**2/o.wrapElement[e.value.scrollSize]/l.ratio/i.value[e.value.offset]),T=v=>{var w;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(w=window.getSelection())==null||w.removeAllRanges(),H(v);const h=v.currentTarget;h&&(d.value[e.value.axis]=h[e.value.offset]-(v[e.value.client]-h.getBoundingClientRect()[e.value.direction]))},E=v=>{if(!i.value||!n.value||!o.wrapElement)return;const w=Math.abs(v.target.getBoundingClientRect()[e.value.direction]-v[e.value.client]),h=i.value[e.value.offset]/2,t=(w-h)*100*S.value/n.value[e.value.offset];o.wrapElement[e.value.scroll]=t*o.wrapElement[e.value.scrollSize]/100},H=v=>{v.stopImmediatePropagation(),c=!0,p=o.wrapElement.scrollHeight,y=o.wrapElement.scrollWidth,document.addEventListener("mousemove",P),document.addEventListener("mouseup",k),r=document.onselectstart,document.onselectstart=()=>!1},P=v=>{if(!n.value||!i.value||c===!1)return;const w=d.value[e.value.axis];if(!w)return;const h=(n.value.getBoundingClientRect()[e.value.direction]-v[e.value.client])*-1,t=i.value[e.value.offset]-w,f=(h-t)*100*S.value/n.value[e.value.offset];e.value.scroll==="scrollLeft"?o.wrapElement[e.value.scroll]=f*y/100:o.wrapElement[e.value.scroll]=f*p/100},k=()=>{c=!1,d.value[e.value.axis]=0,document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",k),O(),u&&(m.value=!1)},D=()=>{u=!1,m.value=!!l.size},A=()=>{u=!0,m.value=c};ne(()=>{O(),document.removeEventListener("mouseup",k)});const O=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return j(X(o,"scrollbarElement"),"mousemove",D),j(X(o,"scrollbarElement"),"mouseleave",A),(v,w)=>(x(),$(fe,{name:z(s).b("fade"),persisted:""},{default:se(()=>[ie(I("div",{ref_key:"instance",ref:n,class:B([z(s).e("bar"),z(s).is(z(e).key)]),onMousedown:E,onClick:ce(()=>{},["stop"])},[I("div",{ref_key:"thumb",ref:i,class:B(z(s).e("thumb")),style:K(z(b)),onMousedown:T},null,38)],42,["onClick"]),[[ue,v.always||m.value]])]),_:1},8,["name"]))}});var Z=F(xe,[["__file","thumb.vue"]]);const Be=U({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Pe=W({__name:"bar",props:Be,setup(a,{expose:l}){const o=a,s=te(V),n=g(0),i=g(0),d=g(""),m=g(""),c=g(1),u=g(1);return l({handleScroll:r=>{if(r){const e=r.offsetHeight-L,b=r.offsetWidth-L;i.value=r.scrollTop*100/e*c.value,n.value=r.scrollLeft*100/b*u.value}},update:()=>{const r=s?.wrapElement;if(!r)return;const e=r.offsetHeight-L,b=r.offsetWidth-L,S=e**2/r.scrollHeight,T=b**2/r.scrollWidth,E=Math.max(S,o.minSize),H=Math.max(T,o.minSize);c.value=S/(e-S)/(E/(e-E)),u.value=T/(b-T)/(H/(b-H)),m.value=E+L<e?`${E}px`:"",d.value=H+L<b?`${H}px`:""}}),(r,e)=>(x(),oe(ve,null,[Y(Z,{move:n.value,ratio:u.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),Y(Z,{move:i.value,ratio:c.value,size:m.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Ae=F(Pe,[["__file","bar.vue"]]);const Oe=U({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:de([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ce(["ariaLabel","ariaOrientation"])}),Me={"end-reached":a=>["left","right","top","bottom"].includes(a),scroll:({scrollTop:a,scrollLeft:l})=>[a,l].every(N)},We="ElScrollbar",De=W({name:We}),$e=W({...De,props:Oe,emits:Me,setup(a,{expose:l,emit:o}){const s=a,n=ae("scrollbar");let i,d,m,c=0,u=0,p="";const y={bottom:!1,top:!1,right:!1,left:!1},r=g(),e=g(),b=g(),S=g(),T=R(()=>{const t={};return s.height&&(t.height=q(s.height)),s.maxHeight&&(t.maxHeight=q(s.maxHeight)),[s.wrapStyle,t]}),E=R(()=>[s.wrapClass,n.e("wrap"),{[n.em("wrap","hidden-default")]:!s.native}]),H=R(()=>[n.e("view"),s.viewClass]),P=t=>{var f;return(f=y[t])!=null?f:!1},k={top:"bottom",bottom:"top",left:"right",right:"left"},D=t=>{const f=k[p];if(!f)return;const C=t[p],M=t[f];C&&!y[p]&&(y[p]=!0),!M&&y[f]&&(y[f]=!1)},A=()=>{var t;if(e.value){(t=S.value)==null||t.handleScroll(e.value);const f=c,C=u;c=e.value.scrollTop,u=e.value.scrollLeft;const M={bottom:c+e.value.clientHeight>=e.value.scrollHeight-s.distance,top:c<=s.distance&&f!==0,right:u+e.value.clientWidth>=e.value.scrollWidth-s.distance&&C!==u,left:u<=s.distance&&C!==0};if(o("scroll",{scrollTop:c,scrollLeft:u}),f!==c&&(p=c>f?"bottom":"top"),C!==u&&(p=u>C?"right":"left"),s.distance>0){if(P(p))return;D(M)}M[p]&&o("end-reached",p)}};function O(t,f){ze(t)?e.value.scrollTo(t):N(t)&&N(f)&&e.value.scrollTo(t,f)}const v=t=>{N(t)&&(e.value.scrollTop=t)},w=t=>{N(t)&&(e.value.scrollLeft=t)},h=()=>{var t;(t=S.value)==null||t.update(),y[p]=!1};return G(()=>s.noresize,t=>{t?(i?.(),d?.(),m?.()):({stop:i}=Q(b,h),{stop:d}=Q(e,h),m=j("resize",h))},{immediate:!0}),G(()=>[s.maxHeight,s.height],()=>{s.native||J(()=>{var t;h(),e.value&&((t=S.value)==null||t.handleScroll(e.value))})}),me(V,pe({scrollbarElement:r,wrapElement:e})),he(()=>{e.value&&(e.value.scrollTop=c,e.value.scrollLeft=u)}),be(()=>{s.native||J(()=>{h()})}),ge(()=>h()),l({wrapRef:e,update:h,scrollTo:O,setScrollTop:v,setScrollLeft:w,handleScroll:A}),(t,f)=>(x(),oe("div",{ref_key:"scrollbarRef",ref:r,class:B(z(n).b())},[I("div",{ref_key:"wrapRef",ref:e,class:B(z(E)),style:K(z(T)),tabindex:t.tabindex,onScroll:A},[(x(),$(we(t.tag),{id:t.id,ref_key:"resizeRef",ref:b,class:B(z(H)),style:K(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:se(()=>[Se(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?ye("v-if",!0):(x(),$(Ae,{key:0,ref_key:"barRef",ref:S,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var Ie=F($e,[["__file","scrollbar.vue"]]);const Xe=Ee(Ie),_=new Map;if(le){let a;document.addEventListener("mousedown",l=>a=l),document.addEventListener("mouseup",l=>{if(a){for(const o of _.values())for(const{documentHandler:s}of o)s(l,a);a=void 0}})}function ee(a,l){let o=[];return He(l.arg)?o=l.arg:_e(l.arg)&&o.push(l.arg),function(s,n){const i=l.instance.popperRef,d=s.target,m=n?.target,c=!l||!l.instance,u=!d||!m,p=a.contains(d)||a.contains(m),y=a===d,r=o.length&&o.some(b=>b?.contains(d))||o.length&&o.includes(m),e=i&&(i.contains(d)||i.contains(m));c||u||p||y||r||e||l.value(s,n)}}const Ye={beforeMount(a,l){_.has(a)||_.set(a,[]),_.get(a).push({documentHandler:ee(a,l),bindingFn:l.value})},updated(a,l){_.has(a)||_.set(a,[]);const o=_.get(a),s=o.findIndex(i=>i.bindingFn===l.oldValue),n={documentHandler:ee(a,l),bindingFn:l.value};s>=0?o.splice(s,1,n):o.push(n)},unmounted(a){_.delete(a)}};export{Ye as C,Xe as E,Ve as c,Me as s};
