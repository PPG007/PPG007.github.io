import{j as dt,a8 as Re,a3 as ne,a4 as C,a5 as le,f as H,b_ as Ae,b$ as pt,c0 as ft,aP as Ie,a7 as se,b5 as vt,g as B,c1 as mt,am as be,W as E,K as ce,a2 as Ze,h as j,o as g,w as k,e as b,be as gt,a as O,ab as J,ac as h,u as e,aA as $,c as L,aa as I,aE as re,aC as V,bm as ze,aB as oe,bt as yt,bu as ht,b as he,aG as de,c2 as bt,c3 as xe,ad as Ge,c4 as kt,c5 as wt,aH as Fe,c6 as _t,ao as Je,ae as we,ap as $t,al as Ct,Q as me,aR as Ne,aD as ke,c7 as Te,aY as Me,c8 as je,b4 as Et,ah as Oe,c9 as Lt,ca as St,bQ as Rt,cb as Qe,aj as Tt,cc as et,an as tt,ay as at,aF as M,as as _e,aZ as st,cd as Ot,ce as Pt,bN as It,a6 as zt,aT as Ve,cf as Ft,aO as Nt,af as Dt,az as Bt,E as Ut}from"./app-UKhqlS50.js";import{e as At,m as ye,u as ge,y as Mt,z as He,i as jt,A as Vt,B as Ht}from"./URL.vue_vue_type_style_index_0_scoped_63a2b590_lang-DiKxDB_1.js";import{r as Kt,s as qt}from"./index-Bspj-cMn.js";import{E as Xt,a as Wt}from"./index-DVdqzcQN.js";import{b as Yt,c as Zt}from"./index-CTgqRUrQ.js";import{E as ue}from"./aria-BUADUvnR.js";import{c as xt,E as Gt}from"./index-DXcwqp50.js";import{g as Jt}from"./index-9Zr1pXq-.js";import{t as De,d as Qt}from"./error-BmLTv-zV.js";import{E as ea,a as ta}from"./index-K9G6vTOk.js";import{_ as aa}from"./plugin-vue_export-helper-DlAUqK2U.js";import"./index-DKJl6Lrz.js";import"./strings-D2r_cxYz.js";import"./vnode-BPIXNz8H.js";var sa="Expected a function";function Se(s,n,a){var l=!0,r=!0;if(typeof s!="function")throw new TypeError(sa);return dt(a)&&(l="leading"in a?!!a.leading:l,r="trailing"in a?!!a.trailing:r),At(s,n,{leading:l,maxWait:n,trailing:r})}const oa=ne({urlList:{type:C(Array),default:()=>ye([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:C(String)}}),na={close:()=>!0,switch:s=>Re(s),rotate:s=>Re(s)},ra=H({name:"ElImageViewer"}),la=H({...ra,props:oa,emits:na,setup(s,{expose:n,emit:a}){var l;const r=s,p={CONTAIN:{name:"contain",icon:Ae(ft)},ORIGINAL:{name:"original",icon:Ae(pt)}};let w,P="";const{t:_}=Ie(),d=se("image-viewer"),{nextZIndex:S}=vt(),f=B(),z=B([]),o=mt(),c=B(!0),t=B(r.initialIndex),v=be(p.CONTAIN),u=B({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),T=B((l=r.zIndex)!=null?l:S()),i=E(()=>{const{urlList:m}=r;return m.length<=1}),R=E(()=>t.value===0),U=E(()=>t.value===r.urlList.length-1),N=E(()=>r.urlList[t.value]),A=E(()=>[d.e("btn"),d.e("prev"),d.is("disabled",!r.infinite&&R.value)]),pe=E(()=>[d.e("btn"),d.e("next"),d.is("disabled",!r.infinite&&U.value)]),fe=E(()=>{const{scale:m,deg:D,offsetX:F,offsetY:X,enableTransition:Z}=u.value;let x=F/m,ae=X/m;const ve=D*Math.PI/180,Be=Math.cos(ve),Ue=Math.sin(ve);x=x*Be+ae*Ue,ae=ae*Be-F/m*Ue;const Le={transform:`scale(${m}) rotate(${D}deg) translate(${x}px, ${ae}px)`,transition:Z?"transform .3s":""};return v.value.name===p.CONTAIN.name&&(Le.maxWidth=Le.maxHeight="100%"),Le}),ie=E(()=>`${t.value+1} / ${r.urlList.length}`);function W(){ee(),w?.(),document.body.style.overflow=P,a("close")}function Q(){const m=Se(F=>{switch(F.code){case ue.esc:r.closeOnPressEscape&&W();break;case ue.space:q();break;case ue.left:Ce();break;case ue.up:te("zoomIn");break;case ue.right:Ee();break;case ue.down:te("zoomOut");break}}),D=Se(F=>{const X=F.deltaY||F.deltaX;te(X<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});o.run(()=>{ge(document,"keydown",m),ge(document,"wheel",D)})}function ee(){o.stop()}function Y(){c.value=!1}function $e(m){c.value=!1,m.target.alt=_("el.image.error")}function y(m){if(c.value||m.button!==0||!f.value)return;u.value.enableTransition=!1;const{offsetX:D,offsetY:F}=u.value,X=m.pageX,Z=m.pageY,x=Se(ve=>{u.value={...u.value,offsetX:D+ve.pageX-X,offsetY:F+ve.pageY-Z}}),ae=ge(document,"mousemove",x);ge(document,"mouseup",()=>{ae()}),m.preventDefault()}function K(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function q(){if(c.value)return;const m=_t(p),D=Object.values(p),F=v.value.name,Z=(D.findIndex(x=>x.name===F)+1)%m.length;v.value=p[m[Z]],K()}function G(m){const D=r.urlList.length;t.value=(m+D)%D}function Ce(){R.value&&!r.infinite||G(t.value-1)}function Ee(){U.value&&!r.infinite||G(t.value+1)}function te(m,D={}){if(c.value)return;const{minScale:F,maxScale:X}=r,{zoomRate:Z,rotateDeg:x,enableTransition:ae}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(m){case"zoomOut":u.value.scale>F&&(u.value.scale=Number.parseFloat((u.value.scale/Z).toFixed(3)));break;case"zoomIn":u.value.scale<X&&(u.value.scale=Number.parseFloat((u.value.scale*Z).toFixed(3)));break;case"clockwise":u.value.deg+=x,a("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=x,a("rotate",u.value.deg);break}u.value.enableTransition=ae}function it(m){var D;((D=m.detail)==null?void 0:D.focusReason)==="pointer"&&m.preventDefault()}function ut(){r.closeOnPressEscape&&W()}function ct(m){if(m.ctrlKey){if(m.deltaY<0)return m.preventDefault(),!1;if(m.deltaY>0)return m.preventDefault(),!1}}return ce(N,()=>{Je(()=>{const m=z.value[0];m?.complete||(c.value=!0)})}),ce(t,m=>{K(),a("switch",m)}),Ze(()=>{Q(),w=ge("wheel",ct,{passive:!1}),P=document.body.style.overflow,document.body.style.overflow="hidden"}),n({setActiveItem:G}),(m,D)=>(g(),j(e(Zt),{to:"body",disabled:!m.teleported},{default:k(()=>[b(gt,{name:"viewer-fade",appear:""},{default:k(()=>[O("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:h(e(d).e("wrapper")),style:J({zIndex:T.value})},[b(e(Yt),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:it,onReleaseRequested:ut},{default:k(()=>[O("div",{class:h(e(d).e("mask")),onClick:re(F=>m.hideOnClickModal&&W(),["self"])},null,10,["onClick"]),$(" CLOSE "),O("span",{class:h([e(d).e("btn"),e(d).e("close")]),onClick:W},[b(e(V),null,{default:k(()=>[b(e(ze))]),_:1})],2),$(" ARROW "),e(i)?$("v-if",!0):(g(),L(oe,{key:0},[O("span",{class:h(e(A)),onClick:Ce},[b(e(V),null,{default:k(()=>[b(e(yt))]),_:1})],2),O("span",{class:h(e(pe)),onClick:Ee},[b(e(V),null,{default:k(()=>[b(e(ht))]),_:1})],2)],64)),m.$slots.progress||m.showProgress?(g(),L("div",{key:1,class:h([e(d).e("btn"),e(d).e("progress")])},[I(m.$slots,"progress",{activeIndex:t.value,total:m.urlList.length},()=>[he(de(e(ie)),1)])],2)):$("v-if",!0),$(" ACTIONS "),O("div",{class:h([e(d).e("btn"),e(d).e("actions")])},[O("div",{class:h(e(d).e("actions__inner"))},[I(m.$slots,"toolbar",{actions:te,prev:Ce,next:Ee,reset:q,activeIndex:t.value,setActiveItem:G},()=>[b(e(V),{onClick:F=>te("zoomOut")},{default:k(()=>[b(e(bt))]),_:1},8,["onClick"]),b(e(V),{onClick:F=>te("zoomIn")},{default:k(()=>[b(e(xe))]),_:1},8,["onClick"]),O("i",{class:h(e(d).e("actions__divider"))},null,2),b(e(V),{onClick:q},{default:k(()=>[(g(),j(Ge(e(v).icon)))]),_:1}),O("i",{class:h(e(d).e("actions__divider"))},null,2),b(e(V),{onClick:F=>te("anticlockwise")},{default:k(()=>[b(e(kt))]),_:1},8,["onClick"]),b(e(V),{onClick:F=>te("clockwise")},{default:k(()=>[b(e(wt))]),_:1},8,["onClick"])])],2)],2),$(" CANVAS "),O("div",{class:h(e(d).e("canvas"))},[(g(!0),L(oe,null,Fe(m.urlList,(F,X)=>(g(),L(oe,{key:X},[X===t.value?(g(),L("img",{key:0,ref_for:!0,ref:Z=>z.value[X]=Z,src:F,style:J(e(fe)),class:h(e(d).e("img")),crossorigin:m.crossorigin,onLoad:Y,onError:$e,onMousedown:y},null,46,["src","crossorigin"])):$("v-if",!0)],64))),128))],2),I(m.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ia=le(la,[["__file","image-viewer.vue"]]);const ua=we(ia),ca=ne({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:C([String,Object])},previewSrcList:{type:C(Array),default:()=>ye([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:C(String)}}),da={load:s=>s instanceof Event,error:s=>s instanceof Event,switch:s=>Re(s),close:()=>!0,show:()=>!0},pa=H({name:"ElImage",inheritAttrs:!1}),fa=H({...pa,props:ca,emits:da,setup(s,{expose:n,emit:a}){const l=s,{t:r}=Ie(),p=se("image"),w=$t(),P=E(()=>Ct(Object.entries(w).filter(([y])=>/^(data-|on[A-Z])/i.test(y)||["id","style"].includes(y)))),_=xt({excludeListeners:!0,excludeKeys:E(()=>Object.keys(P.value))}),d=B(),S=B(!1),f=B(!0),z=B(!1),o=B(),c=B(),t=me&&"loading"in HTMLImageElement.prototype;let v;const u=E(()=>[p.e("inner"),i.value&&p.e("preview"),f.value&&p.is("loading")]),T=E(()=>{const{fit:y}=l;return me&&y?{objectFit:y}:{}}),i=E(()=>{const{previewSrcList:y}=l;return Ne(y)&&y.length>0}),R=E(()=>{const{previewSrcList:y,initialIndex:K}=l;let q=K;return K>y.length-1&&(q=0),q}),U=E(()=>l.loading==="eager"?!1:!t&&l.loading==="lazy"||l.lazy),N=()=>{me&&(f.value=!0,S.value=!1,d.value=l.src)};function A(y){f.value=!1,S.value=!1,a("load",y)}function pe(y){f.value=!1,S.value=!0,a("error",y)}function fe(y){y&&(N(),Q())}const ie=St(fe,200,!0);async function W(){var y;if(!me)return;await Je();const{scrollContainer:K}=l;if(Et(K))c.value=K;else if(Oe(K)&&K!=="")c.value=(y=document.querySelector(K))!=null?y:void 0;else if(o.value){const G=Jt(o.value);c.value=Lt(G)?void 0:G}const{stop:q}=Mt(o,([G])=>{ie(G.isIntersecting)},{root:c});v=q}function Q(){!me||!ie||(v?.(),c.value=void 0,v=void 0)}function ee(){i.value&&(z.value=!0,a("show"))}function Y(){z.value=!1,a("close")}function $e(y){a("switch",y)}return ce(()=>l.src,()=>{U.value?(f.value=!0,S.value=!1,Q(),W()):N()}),Ze(()=>{U.value?W():N()}),n({showPreview:ee}),(y,K)=>(g(),L("div",ke({ref_key:"container",ref:o},e(P),{class:[e(p).b(),y.$attrs.class]}),[S.value?I(y.$slots,"error",{key:0},()=>[O("div",{class:h(e(p).e("error"))},de(e(r)("el.image.error")),3)]):(g(),L(oe,{key:1},[d.value!==void 0?(g(),L("img",ke({key:0},e(_),{src:d.value,loading:y.loading,style:e(T),class:e(u),crossorigin:y.crossorigin,onClick:ee,onLoad:A,onError:pe}),null,16,["src","loading","crossorigin"])):$("v-if",!0),f.value?(g(),L("div",{key:1,class:h(e(p).e("wrapper"))},[I(y.$slots,"placeholder",{},()=>[O("div",{class:h(e(p).e("placeholder"))},null,2)])],2)):$("v-if",!0)],64)),e(i)?(g(),L(oe,{key:2},[z.value?(g(),j(e(ua),{key:0,"z-index":y.zIndex,"initial-index":e(R),infinite:y.infinite,"zoom-rate":y.zoomRate,"min-scale":y.minScale,"max-scale":y.maxScale,"show-progress":y.showProgress,"url-list":y.previewSrcList,crossorigin:y.crossorigin,"hide-on-click-modal":y.hideOnClickModal,teleported:y.previewTeleported,"close-on-press-escape":y.closeOnPressEscape,onClose:Y,onSwitch:$e},Te({toolbar:k(q=>[I(y.$slots,"toolbar",Me(je(q)))]),default:k(()=>[y.$slots.viewer?(g(),L("div",{key:0},[I(y.$slots,"viewer")])):$("v-if",!0)]),_:2},[y.$slots.progress?{name:"progress",fn:k(q=>[I(y.$slots,"progress",Me(je(q)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):$("v-if",!0)],64)):$("v-if",!0)],16))}});var va=le(fa,[["__file","image.vue"]]);const ma=we(va),ga=ne({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:s=>s>=0&&s<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:C(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:C([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:C(Function),default:s=>`${s}%`}}),ya=H({name:"ElProgress"}),ha=H({...ya,props:ga,setup(s){const n=s,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=se("progress"),r=E(()=>{const i={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},R=T(n.percentage);return R.includes("gradient")?i.background=R:i.backgroundColor=R,i}),p=E(()=>(n.strokeWidth/n.width*100).toFixed(1)),w=E(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),P=E(()=>{const i=w.value,R=n.type==="dashboard";return`
          M 50 50
          m 0 ${R?"":"-"}${i}
          a ${i} ${i} 0 1 1 0 ${R?"-":""}${i*2}
          a ${i} ${i} 0 1 1 0 ${R?"":"-"}${i*2}
          `}),_=E(()=>2*Math.PI*w.value),d=E(()=>n.type==="dashboard"?.75:1),S=E(()=>`${-1*_.value*(1-d.value)/2}px`),f=E(()=>({strokeDasharray:`${_.value*d.value}px, ${_.value}px`,strokeDashoffset:S.value})),z=E(()=>({strokeDasharray:`${_.value*d.value*(n.percentage/100)}px, ${_.value}px`,strokeDashoffset:S.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),o=E(()=>{let i;return n.color?i=T(n.percentage):i=a[n.status]||a.default,i}),c=E(()=>n.status==="warning"?Rt:n.type==="line"?n.status==="success"?Qe:Tt:n.status==="success"?et:ze),t=E(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),v=E(()=>n.format(n.percentage));function u(i){const R=100/i.length;return i.map((N,A)=>Oe(N)?{color:N,percentage:(A+1)*R}:N).sort((N,A)=>N.percentage-A.percentage)}const T=i=>{var R;const{color:U}=n;if(tt(U))return U(i);if(Oe(U))return U;{const N=u(U);for(const A of N)if(A.percentage>i)return A.color;return(R=N[N.length-1])==null?void 0:R.color}};return(i,R)=>(g(),L("div",{class:h([e(l).b(),e(l).m(i.type),e(l).is(i.status),{[e(l).m("without-text")]:!i.showText,[e(l).m("text-inside")]:i.textInside}]),role:"progressbar","aria-valuenow":i.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[i.type==="line"?(g(),L("div",{key:0,class:h(e(l).b("bar"))},[O("div",{class:h(e(l).be("bar","outer")),style:J({height:`${i.strokeWidth}px`})},[O("div",{class:h([e(l).be("bar","inner"),{[e(l).bem("bar","inner","indeterminate")]:i.indeterminate},{[e(l).bem("bar","inner","striped")]:i.striped},{[e(l).bem("bar","inner","striped-flow")]:i.stripedFlow}]),style:J(e(r))},[(i.showText||i.$slots.default)&&i.textInside?(g(),L("div",{key:0,class:h(e(l).be("bar","innerText"))},[I(i.$slots,"default",{percentage:i.percentage},()=>[O("span",null,de(e(v)),1)])],2)):$("v-if",!0)],6)],6)],2)):(g(),L("div",{key:1,class:h(e(l).b("circle")),style:J({height:`${i.width}px`,width:`${i.width}px`})},[(g(),L("svg",{viewBox:"0 0 100 100"},[O("path",{class:h(e(l).be("circle","track")),d:e(P),stroke:`var(${e(l).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":i.strokeLinecap,"stroke-width":e(p),fill:"none",style:J(e(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),O("path",{class:h(e(l).be("circle","path")),d:e(P),stroke:e(o),fill:"none",opacity:i.percentage?1:0,"stroke-linecap":i.strokeLinecap,"stroke-width":e(p),style:J(e(z))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(i.showText||i.$slots.default)&&!i.textInside?(g(),L("div",{key:2,class:h(e(l).e("text")),style:J({fontSize:`${e(t)}px`})},[I(i.$slots,"default",{percentage:i.percentage},()=>[i.status?(g(),j(e(V),{key:1},{default:k(()=>[(g(),j(Ge(e(c))))]),_:1})):(g(),L("span",{key:0},de(e(v)),1))])],6)):$("v-if",!0)],10,["aria-valuenow"]))}});var ba=le(ha,[["__file","progress.vue"]]);const ka=we(ba),ot=Symbol("uploadContextKey"),wa="ElUpload";class _a extends Error{constructor(n,a,l,r){super(n),this.name="UploadAjaxError",this.status=a,this.method=l,this.url=r}}function Ke(s,n,a){let l;return a.response?l=`${a.response.error||a.response}`:a.responseText?l=`${a.responseText}`:l=`fail to ${n.method} ${s} ${a.status}`,new _a(l,a.status,n.method,s)}function $a(s){const n=s.responseText||s.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const Ca=s=>{typeof XMLHttpRequest>"u"&&De(wa,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,a=s.action;n.upload&&n.upload.addEventListener("progress",p=>{const w=p;w.percent=p.total>0?p.loaded/p.total*100:0,s.onProgress(w)});const l=new FormData;if(s.data)for(const[p,w]of Object.entries(s.data))Ne(w)&&w.length?l.append(p,...w):l.append(p,w);l.append(s.filename,s.file,s.file.name),n.addEventListener("error",()=>{s.onError(Ke(a,s,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return s.onError(Ke(a,s,n));s.onSuccess($a(n))}),n.open(s.method,a,!0),s.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const r=s.headers||{};if(r instanceof Headers)r.forEach((p,w)=>n.setRequestHeader(w,p));else for(const[p,w]of Object.entries(r))at(w)||n.setRequestHeader(p,String(w));return n.send(l),n},nt=["text","picture","picture-card"];let Ea=1;const Pe=()=>Date.now()+Ea++,rt=ne({action:{type:String,default:"#"},headers:{type:C(Object)},method:{type:String,default:"post"},data:{type:C([Object,Function,Promise]),default:()=>ye({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:C(Array),default:()=>ye([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:nt,default:"text"},httpRequest:{type:C(Function),default:Ca},disabled:Boolean,limit:Number}),La=ne({...rt,beforeUpload:{type:C(Function),default:M},beforeRemove:{type:C(Function)},onRemove:{type:C(Function),default:M},onChange:{type:C(Function),default:M},onPreview:{type:C(Function),default:M},onSuccess:{type:C(Function),default:M},onProgress:{type:C(Function),default:M},onError:{type:C(Function),default:M},onExceed:{type:C(Function),default:M},crossorigin:{type:C(String)}}),Sa=ne({files:{type:C(Array),default:()=>ye([])},disabled:Boolean,handlePreview:{type:C(Function),default:M},listType:{type:String,values:nt,default:"text"},crossorigin:{type:C(String)}}),Ra={remove:s=>!!s},Ta=H({name:"ElUploadList"}),Oa=H({...Ta,props:Sa,emits:Ra,setup(s,{emit:n}){const a=s,{t:l}=Ie(),r=se("upload"),p=se("icon"),w=se("list"),P=_e(),_=B(!1),d=E(()=>[r.b("list"),r.bm("list",a.listType),r.is("disabled",a.disabled)]),S=f=>{n("remove",f)};return(f,z)=>(g(),j(It,{tag:"ul",class:h(e(d)),name:e(w).b()},{default:k(()=>[(g(!0),L(oe,null,Fe(f.files,(o,c)=>(g(),L("li",{key:o.uid||o.name,class:h([e(r).be("list","item"),e(r).is(o.status),{focusing:_.value}]),tabindex:"0",onKeydown:st(t=>!e(P)&&S(o),["delete"]),onFocus:t=>_.value=!0,onBlur:t=>_.value=!1,onClick:t=>_.value=!1},[I(f.$slots,"default",{file:o,index:c},()=>[f.listType==="picture"||o.status!=="uploading"&&f.listType==="picture-card"?(g(),L("img",{key:0,class:h(e(r).be("list","item-thumbnail")),src:o.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):$("v-if",!0),o.status==="uploading"||f.listType!=="picture-card"?(g(),L("div",{key:1,class:h(e(r).be("list","item-info"))},[O("a",{class:h(e(r).be("list","item-name")),onClick:re(t=>f.handlePreview(o),["prevent"])},[b(e(V),{class:h(e(p).m("document"))},{default:k(()=>[b(e(Ot))]),_:1},8,["class"]),O("span",{class:h(e(r).be("list","item-file-name")),title:o.name},de(o.name),11,["title"])],10,["onClick"]),o.status==="uploading"?(g(),j(e(ka),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(o.percentage),style:J(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):$("v-if",!0)],2)):$("v-if",!0),O("label",{class:h(e(r).be("list","item-status-label"))},[f.listType==="text"?(g(),j(e(V),{key:0,class:h([e(p).m("upload-success"),e(p).m("circle-check")])},{default:k(()=>[b(e(Qe))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(g(),j(e(V),{key:1,class:h([e(p).m("upload-success"),e(p).m("check")])},{default:k(()=>[b(e(et))]),_:1},8,["class"])):$("v-if",!0)],2),e(P)?$("v-if",!0):(g(),j(e(V),{key:2,class:h(e(p).m("close")),onClick:t=>S(o)},{default:k(()=>[b(e(ze))]),_:2},1032,["class","onClick"])),$(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),$(" This is a bug which needs to be fixed "),$(" TODO: Fix the incorrect navigation interaction "),e(P)?$("v-if",!0):(g(),L("i",{key:3,class:h(e(p).m("close-tip"))},de(e(l)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(g(),L("span",{key:4,class:h(e(r).be("list","item-actions"))},[O("span",{class:h(e(r).be("list","item-preview")),onClick:t=>f.handlePreview(o)},[b(e(V),{class:h(e(p).m("zoom-in"))},{default:k(()=>[b(e(xe))]),_:1},8,["class"])],10,["onClick"]),e(P)?$("v-if",!0):(g(),L("span",{key:0,class:h(e(r).be("list","item-delete")),onClick:t=>S(o)},[b(e(V),{class:h(e(p).m("delete"))},{default:k(()=>[b(e(Pt))]),_:1},8,["class"])],10,["onClick"]))],2)):$("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),I(f.$slots,"append")]),_:3},8,["class","name"]))}});var qe=le(Oa,[["__file","upload-list.vue"]]);const Pa=ne({disabled:Boolean}),Ia={file:s=>Ne(s)},lt="ElUploadDrag",za=H({name:lt}),Fa=H({...za,props:Pa,emits:Ia,setup(s,{emit:n}){zt(ot)||De(lt,"usage: <el-upload><el-upload-dragger /></el-upload>");const l=se("upload"),r=B(!1),p=_e(),w=d=>{if(p.value)return;r.value=!1,d.stopPropagation();const S=Array.from(d.dataTransfer.files),f=d.dataTransfer.items||[];S.forEach((z,o)=>{var c;const t=f[o],v=(c=t?.webkitGetAsEntry)==null?void 0:c.call(t);v&&(z.isDirectory=v.isDirectory)}),n("file",S)},P=()=>{p.value||(r.value=!0)},_=d=>{d.currentTarget.contains(d.relatedTarget)||(r.value=!1)};return(d,S)=>(g(),L("div",{class:h([e(l).b("dragger"),e(l).is("dragover",r.value)]),onDrop:re(w,["prevent"]),onDragover:re(P,["prevent"]),onDragleave:re(_,["prevent"])},[I(d.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Na=le(Fa,[["__file","upload-dragger.vue"]]);const Da=ne({...rt,beforeUpload:{type:C(Function),default:M},onRemove:{type:C(Function),default:M},onStart:{type:C(Function),default:M},onSuccess:{type:C(Function),default:M},onProgress:{type:C(Function),default:M},onError:{type:C(Function),default:M},onExceed:{type:C(Function),default:M}}),Ba=H({name:"ElUploadContent",inheritAttrs:!1}),Ua=H({...Ba,props:Da,setup(s,{expose:n}){const a=s,l=se("upload"),r=_e(),p=be({}),w=be(),P=t=>{if(t.length===0)return;const{autoUpload:v,limit:u,fileList:T,multiple:i,onStart:R,onExceed:U}=a;if(u&&T.length+t.length>u){U(t,T);return}i||(t=t.slice(0,1));for(const N of t){const A=N;A.uid=Pe(),R(A),v&&_(A)}},_=async t=>{if(w.value.value="",!a.beforeUpload)return S(t);let v,u={};try{const i=a.data,R=a.beforeUpload(t);u=Ve(a.data)?He(a.data):a.data,v=await R,Ve(a.data)&&jt(i,u)&&(u=He(a.data))}catch{v=!1}if(v===!1){a.onRemove(t);return}let T=t;v instanceof Blob&&(v instanceof File?T=v:T=new File([v],t.name,{type:t.type})),S(Object.assign(T,{uid:t.uid}),u)},d=async(t,v)=>tt(t)?t(v):t,S=async(t,v)=>{const{headers:u,data:T,method:i,withCredentials:R,name:U,action:N,onProgress:A,onSuccess:pe,onError:fe,httpRequest:ie}=a;try{v=await d(v??T,t)}catch{a.onRemove(t);return}const{uid:W}=t,Q={headers:u||{},withCredentials:R,file:t,data:v,method:i,filename:U,action:N,onProgress:Y=>{A(Y,t)},onSuccess:Y=>{pe(Y,t),delete p.value[W]},onError:Y=>{fe(Y,t),delete p.value[W]}},ee=ie(Q);p.value[W]=ee,ee instanceof Promise&&ee.then(Q.onSuccess,Q.onError)},f=t=>{const v=t.target.files;v&&P(Array.from(v))},z=()=>{r.value||(w.value.value="",w.value.click())},o=()=>{z()};return n({abort:t=>{Ft(p.value).filter(t?([u])=>String(t.uid)===u:()=>!0).forEach(([u,T])=>{T instanceof XMLHttpRequest&&T.abort(),delete p.value[u]})},upload:_}),(t,v)=>(g(),L("div",{class:h([e(l).b(),e(l).m(t.listType),e(l).is("drag",t.drag),e(l).is("disabled",e(r))]),tabindex:e(r)?"-1":"0",onClick:z,onKeydown:st(re(o,["self"]),["enter","space"])},[t.drag?(g(),j(Na,{key:0,disabled:e(r),onFile:P},{default:k(()=>[I(t.$slots,"default")]),_:3},8,["disabled"])):I(t.$slots,"default",{key:1}),O("input",{ref_key:"inputRef",ref:w,class:h(e(l).e("input")),name:t.name,disabled:e(r),multiple:t.multiple,accept:t.accept,type:"file",onChange:f,onClick:re(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var Xe=le(Ua,[["__file","upload-content.vue"]]);const We="ElUpload",Ye=s=>{var n;(n=s.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(s.url)},Aa=(s,n)=>{const a=Vt(s,"fileList",void 0,{passive:!0}),l=o=>a.value.find(c=>c.uid===o.uid);function r(o){var c;(c=n.value)==null||c.abort(o)}function p(o=["ready","uploading","success","fail"]){a.value=a.value.filter(c=>!o.includes(c.status))}function w(o){a.value=a.value.filter(c=>c.uid!==o.uid)}const P=(o,c)=>{const t=l(c);t&&(console.error(o),t.status="fail",w(t),s.onError(o,t,a.value),s.onChange(t,a.value))},_=(o,c)=>{const t=l(c);t&&(s.onProgress(o,t,a.value),t.status="uploading",t.percentage=Math.round(o.percent))},d=(o,c)=>{const t=l(c);t&&(t.status="success",t.response=o,s.onSuccess(o,t,a.value),s.onChange(t,a.value))},S=o=>{at(o.uid)&&(o.uid=Pe());const c={name:o.name,percentage:0,status:"ready",size:o.size,raw:o,uid:o.uid};if(s.listType==="picture-card"||s.listType==="picture")try{c.url=URL.createObjectURL(o)}catch(t){Qt(We,t.message),s.onError(t,c,a.value)}a.value=[...a.value,c],s.onChange(c,a.value)},f=async o=>{const c=o instanceof File?l(o):o;c||De(We,"file to be removed not found");const t=v=>{r(v),w(v),s.onRemove(v,a.value),Ye(v)};s.beforeRemove?await s.beforeRemove(c,a.value)!==!1&&t(c):t(c)};function z(){a.value.filter(({status:o})=>o==="ready").forEach(({raw:o})=>{var c;return o&&((c=n.value)==null?void 0:c.upload(o))})}return ce(()=>s.listType,o=>{o!=="picture-card"&&o!=="picture"||(a.value=a.value.map(c=>{const{raw:t,url:v}=c;if(!v&&t)try{c.url=URL.createObjectURL(t)}catch(u){s.onError(u,c,a.value)}return c}))}),ce(a,o=>{for(const c of o)c.uid||(c.uid=Pe()),c.status||(c.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:r,clearFiles:p,handleError:P,handleProgress:_,handleStart:S,handleSuccess:d,handleRemove:f,submit:z,revokeFileObjectURL:Ye}},Ma=H({name:"ElUpload"}),ja=H({...Ma,props:La,setup(s,{expose:n}){const a=s,l=_e(),r=be(),{abort:p,submit:w,clearFiles:P,uploadFiles:_,handleStart:d,handleError:S,handleRemove:f,handleSuccess:z,handleProgress:o,revokeFileObjectURL:c}=Aa(a,r),t=E(()=>a.listType==="picture-card"),v=E(()=>({...a,fileList:_.value,onStart:d,onProgress:o,onSuccess:z,onError:S,onRemove:f}));return Nt(()=>{_.value.forEach(c)}),Dt(ot,{accept:Bt(a,"accept")}),n({abort:p,submit:w,clearFiles:P,handleStart:d,handleRemove:f}),(u,T)=>(g(),L("div",null,[e(t)&&u.showFileList?(g(),j(qe,{key:0,disabled:e(l),"list-type":u.listType,files:e(_),crossorigin:u.crossorigin,"handle-preview":u.onPreview,onRemove:e(f)},Te({append:k(()=>[b(Xe,ke({ref_key:"uploadRef",ref:r},e(v)),{default:k(()=>[u.$slots.trigger?I(u.$slots,"trigger",{key:0}):$("v-if",!0),!u.$slots.trigger&&u.$slots.default?I(u.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)]),_:2},[u.$slots.file?{name:"default",fn:k(({file:i,index:R})=>[I(u.$slots,"file",{file:i,index:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$("v-if",!0),!e(t)||e(t)&&!u.showFileList?(g(),j(Xe,ke({key:1,ref_key:"uploadRef",ref:r},e(v)),{default:k(()=>[u.$slots.trigger?I(u.$slots,"trigger",{key:0}):$("v-if",!0),!u.$slots.trigger&&u.$slots.default?I(u.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)):$("v-if",!0),u.$slots.trigger?I(u.$slots,"default",{key:2}):$("v-if",!0),I(u.$slots,"tip"),!e(t)&&u.showFileList?(g(),j(qe,{key:3,disabled:e(l),"list-type":u.listType,files:e(_),crossorigin:u.crossorigin,"handle-preview":u.onPreview,onRemove:e(f)},Te({_:2},[u.$slots.file?{name:"default",fn:k(({file:i,index:R})=>[I(u.$slots,"file",{file:i,index:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$("v-if",!0)]))}});var Va=le(ja,[["__file","upload.vue"]]);const Ha=we(Va),Ka=H({__name:"OCR",setup(s){const n={eng:"英语",chi_sim:"简体中文",chi_tra:"繁体中文",jpn:"日语"},a=B(),l=B("eng"),r=B(""),p=async()=>{const _=await Kt();_&&(a.value=_)},w=_=>{r.value="",_.raw&&(a.value={blob:_.raw,url:URL.createObjectURL(_.raw)})};ce([a,l],([_,d])=>{if(!_)return;const S=qt();Ht.recognize(_.blob,d).then(({data:{text:f}})=>{r.value=f}).finally(()=>{S.close()})});const P=()=>{r.value=r.value.replace(/\n/g,"")};return(_,d)=>{const S=ma,f=Xt,z=Wt,o=Ut,c=Ha,t=ta,v=ea,u=Gt;return g(),L(oe,null,[a.value?(g(),j(z,{key:0},{default:k(()=>[b(f,{span:24},{default:k(()=>[b(S,{src:a.value?.url},null,8,["src"])]),_:1})]),_:1})):$("",!0),b(z,{justify:"space-around",align:"middle"},{default:k(()=>[b(f,{span:7},{default:k(()=>[b(o,{onClick:p,size:"large",type:"primary"},{default:k(()=>d[2]||(d[2]=[he("从剪切板读取图片")])),_:1,__:[2]})]),_:1}),b(f,{span:7},{default:k(()=>[b(c,{accept:"image/*",limit:1,"auto-upload":!1,"on-change":w,"show-file-list":!1},{default:k(()=>[b(o,{size:"large",type:"primary"},{default:k(()=>d[3]||(d[3]=[he("从文件选取图片")])),_:1,__:[3]})]),_:1})]),_:1}),b(f,{span:7},{default:k(()=>[b(o,{size:"large",type:"primary",disabled:!r.value,onClick:P},{default:k(()=>d[4]||(d[4]=[he("去除换行")])),_:1,__:[4]},8,["disabled"])]),_:1}),b(f,{span:3},{default:k(()=>[b(v,{modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=T=>l.value=T),size:"large"},{default:k(()=>[(g(),L(oe,null,Fe(n,(T,i)=>b(t,{key:i,label:T,value:i},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),r.value?(g(),j(z,{key:1},{default:k(()=>[b(f,null,{default:k(()=>[b(u,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=T=>r.value=T),type:"textarea",resize:"none",autosize:{minRows:20}},null,8,["modelValue"])]),_:1})]),_:1})):$("",!0)],64)}}}),qa=aa(Ka,[["__scopeId","data-v-2bbcbffe"]]),rs={__name:"ocr.html",setup(s){return(n,a)=>(g(),L("div",null,[a[0]||(a[0]=O("h1",{id:"ocr",tabindex:"-1"},[O("a",{class:"header-anchor",href:"#ocr"},[O("span",null,"OCR")])],-1)),b(e(qa))]))}},ls=JSON.parse('{"path":"/tools/docs/ocr.html","title":"OCR","lang":"zh-CN","frontmatter":{"description":"OCR","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OCR\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-15T09:24:35.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ppg007.github.io/tools/docs/ocr.html"}],["meta",{"property":"og:site_name","content":"PPG007 的文档"}],["meta",{"property":"og:title","content":"OCR"}],["meta",{"property":"og:description","content":"OCR"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-15T09:24:35.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-15T09:24:35.000Z"}]]},"git":{"createdTime":1747301075000,"updatedTime":1747301075000,"contributors":[{"name":"Koston Zhuang","username":"","email":"koston.zhuang@maiscrm.com","commits":1}]},"readingTime":{"minutes":0.03,"words":10},"filePathRelative":"tools/docs/ocr.md","excerpt":"\\n","autoDesc":true}');export{rs as comp,ls as data};
