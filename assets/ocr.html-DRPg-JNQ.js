import{j as dt,Q as ce,a8 as Re,a3 as se,a4 as C,a5 as re,f as H,bW as Ae,bX as ft,bY as pt,aQ as Ie,a7 as ae,b5 as vt,g as B,bZ as mt,al as be,W as E,K as fe,a2 as Ze,h as j,o as g,w as k,e as b,be as gt,a as P,ab as G,ac as y,u as e,aA as $,c as S,aa as I,aF as oe,aC as V,bm as ze,aB as ne,br as yt,bs as ht,b as he,aH as pe,b_ as bt,b$ as xe,ad as Ge,c0 as kt,c1 as wt,aI as Fe,aK as _t,aL as $t,c2 as Ct,ao as Je,ae as we,ap as Et,ak as St,aS as Ne,aD as ke,c3 as Te,c4 as Me,c5 as je,b4 as Lt,ah as Pe,c6 as Rt,bM as Tt,c7 as Qe,aE as Pt,c8 as et,an as tt,ay as at,aG as M,as as _e,aY as st,c9 as Ot,ca as It,bJ as zt,a6 as Ft,aU as Ve,cb as Nt,aP as Dt,af as Bt,az as Ut,E as At}from"./app-rQI8KFp-.js";import{e as Mt,m as ge,u as de,r as He,i as jt,t as Vt,v as Ht}from"./URL.vue_vue_type_style_index_0_scoped_63a2b590_lang-76B7habx.js";import{r as Kt,s as Xt}from"./index-BDi3_nrT.js";import{E as qt,a as Wt}from"./index-CGUzUPLo.js";import{b as Yt,c as Zt}from"./index-BpopSzLc.js";import{E as ue}from"./aria-BUADUvnR.js";import{c as xt,E as Gt}from"./index-B-lsNp-L.js";import{g as Jt}from"./index-DVJGENsP.js";import{t as De,d as Qt}from"./event-BE20p1dL.js";import{E as ea,a as ta}from"./index-CrkboCFo.js";import{_ as aa}from"./plugin-vue_export-helper-DlAUqK2U.js";import"./index-EYO8mvJE.js";import"./strings-DiHTZHGm.js";var sa="Expected a function";function Le(s,o,a){var n=!0,l=!0;if(typeof s!="function")throw new TypeError(sa);return dt(a)&&(n="leading"in a?!!a.leading:n,l="trailing"in a?!!a.trailing:l),Mt(s,o,{leading:n,maxWait:o,trailing:l})}const oa=(s,o)=>{if(!ce||!s||!o)return!1;const a=s.getBoundingClientRect();let n;return o instanceof Element?n=o.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},a.top<n.bottom&&a.bottom>n.top&&a.right>n.left&&a.left<n.right},na=se({urlList:{type:C(Array),default:()=>ge([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:C(String)}}),ra={close:()=>!0,switch:s=>Re(s),rotate:s=>Re(s)},la=H({name:"ElImageViewer"}),ia=H({...la,props:na,emits:ra,setup(s,{expose:o,emit:a}){var n;const l=s,d={CONTAIN:{name:"contain",icon:Ae(pt)},ORIGINAL:{name:"original",icon:Ae(ft)}};let _,O="";const{t:w}=Ie(),f=ae("image-viewer"),{nextZIndex:L}=vt(),p=B(),z=B([]),r=mt(),u=B(!0),t=B(l.initialIndex),m=be(d.CONTAIN),c=B({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),T=B((n=l.zIndex)!=null?n:L()),i=E(()=>{const{urlList:v}=l;return v.length<=1}),R=E(()=>t.value===0),U=E(()=>t.value===l.urlList.length-1),N=E(()=>l.urlList[t.value]),A=E(()=>[f.e("btn"),f.e("prev"),f.is("disabled",!l.infinite&&R.value)]),ve=E(()=>[f.e("btn"),f.e("next"),f.is("disabled",!l.infinite&&U.value)]),le=E(()=>{const{scale:v,deg:D,offsetX:F,offsetY:q,enableTransition:Z}=c.value;let x=F/v,te=q/v;const me=D*Math.PI/180,Be=Math.cos(me),Ue=Math.sin(me);x=x*Be+te*Ue,te=te*Be-F/v*Ue;const Se={transform:`scale(${v}) rotate(${D}deg) translate(${x}px, ${te}px)`,transition:Z?"transform .3s":""};return m.value.name===d.CONTAIN.name&&(Se.maxWidth=Se.maxHeight="100%"),Se}),ie=E(()=>`${t.value+1} / ${l.urlList.length}`);function X(){Q(),_?.(),document.body.style.overflow=O,a("close")}function J(){const v=Le(F=>{switch(F.code){case ue.esc:l.closeOnPressEscape&&X();break;case ue.space:Y();break;case ue.left:Ce();break;case ue.up:ee("zoomIn");break;case ue.right:Ee();break;case ue.down:ee("zoomOut");break}}),D=Le(F=>{const q=F.deltaY||F.deltaX;ee(q<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});r.run(()=>{de(document,"keydown",v),de(document,"wheel",D)})}function Q(){r.stop()}function W(){u.value=!1}function $e(v){u.value=!1,v.target.alt=w("el.image.error")}function h(v){if(u.value||v.button!==0||!p.value)return;c.value.enableTransition=!1;const{offsetX:D,offsetY:F}=c.value,q=v.pageX,Z=v.pageY,x=Le(me=>{c.value={...c.value,offsetX:D+me.pageX-q,offsetY:F+me.pageY-Z}}),te=de(document,"mousemove",x);de(document,"mouseup",()=>{te()}),v.preventDefault()}function K(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Y(){if(u.value)return;const v=Ct(d),D=Object.values(d),F=m.value.name,Z=(D.findIndex(x=>x.name===F)+1)%v.length;m.value=d[v[Z]],K()}function ye(v){const D=l.urlList.length;t.value=(v+D)%D}function Ce(){R.value&&!l.infinite||ye(t.value-1)}function Ee(){U.value&&!l.infinite||ye(t.value+1)}function ee(v,D={}){if(u.value)return;const{minScale:F,maxScale:q}=l,{zoomRate:Z,rotateDeg:x,enableTransition:te}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...D};switch(v){case"zoomOut":c.value.scale>F&&(c.value.scale=Number.parseFloat((c.value.scale/Z).toFixed(3)));break;case"zoomIn":c.value.scale<q&&(c.value.scale=Number.parseFloat((c.value.scale*Z).toFixed(3)));break;case"clockwise":c.value.deg+=x,a("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=x,a("rotate",c.value.deg);break}c.value.enableTransition=te}function it(v){var D;((D=v.detail)==null?void 0:D.focusReason)==="pointer"&&v.preventDefault()}function ut(){l.closeOnPressEscape&&X()}function ct(v){if(v.ctrlKey){if(v.deltaY<0)return v.preventDefault(),!1;if(v.deltaY>0)return v.preventDefault(),!1}}return fe(N,()=>{Je(()=>{const v=z.value[0];v?.complete||(u.value=!0)})}),fe(t,v=>{K(),a("switch",v)}),Ze(()=>{J(),_=de("wheel",ct,{passive:!1}),O=document.body.style.overflow,document.body.style.overflow="hidden"}),o({setActiveItem:ye}),(v,D)=>(g(),j(e(Zt),{to:"body",disabled:!v.teleported},{default:k(()=>[b(gt,{name:"viewer-fade",appear:""},{default:k(()=>[P("div",{ref_key:"wrapper",ref:p,tabindex:-1,class:y(e(f).e("wrapper")),style:G({zIndex:T.value})},[b(e(Yt),{loop:"",trapped:"","focus-trap-el":p.value,"focus-start-el":"container",onFocusoutPrevented:it,onReleaseRequested:ut},{default:k(()=>[P("div",{class:y(e(f).e("mask")),onClick:oe(F=>v.hideOnClickModal&&X(),["self"])},null,10,["onClick"]),$(" CLOSE "),P("span",{class:y([e(f).e("btn"),e(f).e("close")]),onClick:X},[b(e(V),null,{default:k(()=>[b(e(ze))]),_:1})],2),$(" ARROW "),e(i)?$("v-if",!0):(g(),S(ne,{key:0},[P("span",{class:y(e(A)),onClick:Ce},[b(e(V),null,{default:k(()=>[b(e(yt))]),_:1})],2),P("span",{class:y(e(ve)),onClick:Ee},[b(e(V),null,{default:k(()=>[b(e(ht))]),_:1})],2)],64)),v.$slots.progress||v.showProgress?(g(),S("div",{key:1,class:y([e(f).e("btn"),e(f).e("progress")])},[I(v.$slots,"progress",{activeIndex:t.value,total:v.urlList.length},()=>[he(pe(e(ie)),1)])],2)):$("v-if",!0),$(" ACTIONS "),P("div",{class:y([e(f).e("btn"),e(f).e("actions")])},[P("div",{class:y(e(f).e("actions__inner"))},[I(v.$slots,"toolbar",{actions:ee,prev:Ce,next:Ee,reset:Y,activeIndex:t.value,setActiveItem:ye},()=>[b(e(V),{onClick:F=>ee("zoomOut")},{default:k(()=>[b(e(bt))]),_:1},8,["onClick"]),b(e(V),{onClick:F=>ee("zoomIn")},{default:k(()=>[b(e(xe))]),_:1},8,["onClick"]),P("i",{class:y(e(f).e("actions__divider"))},null,2),b(e(V),{onClick:Y},{default:k(()=>[(g(),j(Ge(e(m).icon)))]),_:1}),P("i",{class:y(e(f).e("actions__divider"))},null,2),b(e(V),{onClick:F=>ee("anticlockwise")},{default:k(()=>[b(e(kt))]),_:1},8,["onClick"]),b(e(V),{onClick:F=>ee("clockwise")},{default:k(()=>[b(e(wt))]),_:1},8,["onClick"])])],2)],2),$(" CANVAS "),P("div",{class:y(e(f).e("canvas"))},[(g(!0),S(ne,null,Fe(v.urlList,(F,q)=>_t((g(),S("img",{ref_for:!0,ref:Z=>z.value[q]=Z,key:F,src:F,style:G(e(le)),class:y(e(f).e("img")),crossorigin:v.crossorigin,onLoad:W,onError:$e,onMousedown:h},null,46,["src","crossorigin"])),[[$t,q===t.value]])),128))],2),I(v.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ua=re(ia,[["__file","image-viewer.vue"]]);const ca=we(ua),da=se({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:C([String,Object])},previewSrcList:{type:C(Array),default:()=>ge([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:C(String)}}),fa={load:s=>s instanceof Event,error:s=>s instanceof Event,switch:s=>Re(s),close:()=>!0,show:()=>!0},pa=H({name:"ElImage",inheritAttrs:!1}),va=H({...pa,props:da,emits:fa,setup(s,{expose:o,emit:a}){const n=s,{t:l}=Ie(),d=ae("image"),_=Et(),O=E(()=>St(Object.entries(_).filter(([h])=>/^(data-|on[A-Z])/i.test(h)||["id","style"].includes(h)))),w=xt({excludeListeners:!0,excludeKeys:E(()=>Object.keys(O.value))}),f=B(),L=B(!1),p=B(!0),z=B(!1),r=B(),u=B(),t=ce&&"loading"in HTMLImageElement.prototype;let m;const c=E(()=>[d.e("inner"),i.value&&d.e("preview"),p.value&&d.is("loading")]),T=E(()=>{const{fit:h}=n;return ce&&h?{objectFit:h}:{}}),i=E(()=>{const{previewSrcList:h}=n;return Ne(h)&&h.length>0}),R=E(()=>{const{previewSrcList:h,initialIndex:K}=n;let Y=K;return K>h.length-1&&(Y=0),Y}),U=E(()=>n.loading==="eager"?!1:!t&&n.loading==="lazy"||n.lazy),N=()=>{ce&&(p.value=!0,L.value=!1,f.value=n.src)};function A(h){p.value=!1,L.value=!1,a("load",h)}function ve(h){p.value=!1,L.value=!0,a("error",h)}function le(){oa(r.value,u.value)&&(N(),J())}const ie=Rt(le,200,!0);async function X(){var h;if(!ce)return;await Je();const{scrollContainer:K}=n;Lt(K)?u.value=K:Pe(K)&&K!==""?u.value=(h=document.querySelector(K))!=null?h:void 0:r.value&&(u.value=Jt(r.value)),u.value&&(m=de(u,"scroll",ie),setTimeout(()=>le(),100))}function J(){!ce||!u.value||!ie||(m?.(),u.value=void 0)}function Q(){i.value&&(z.value=!0,a("show"))}function W(){z.value=!1,a("close")}function $e(h){a("switch",h)}return fe(()=>n.src,()=>{U.value?(p.value=!0,L.value=!1,J(),X()):N()}),Ze(()=>{U.value?X():N()}),o({showPreview:Q}),(h,K)=>(g(),S("div",ke({ref_key:"container",ref:r},e(O),{class:[e(d).b(),h.$attrs.class]}),[L.value?I(h.$slots,"error",{key:0},()=>[P("div",{class:y(e(d).e("error"))},pe(e(l)("el.image.error")),3)]):(g(),S(ne,{key:1},[f.value!==void 0?(g(),S("img",ke({key:0},e(w),{src:f.value,loading:h.loading,style:e(T),class:e(c),crossorigin:h.crossorigin,onClick:Q,onLoad:A,onError:ve}),null,16,["src","loading","crossorigin"])):$("v-if",!0),p.value?(g(),S("div",{key:1,class:y(e(d).e("wrapper"))},[I(h.$slots,"placeholder",{},()=>[P("div",{class:y(e(d).e("placeholder"))},null,2)])],2)):$("v-if",!0)],64)),e(i)?(g(),S(ne,{key:2},[z.value?(g(),j(e(ca),{key:0,"z-index":h.zIndex,"initial-index":e(R),infinite:h.infinite,"zoom-rate":h.zoomRate,"min-scale":h.minScale,"max-scale":h.maxScale,"show-progress":h.showProgress,"url-list":h.previewSrcList,crossorigin:h.crossorigin,"hide-on-click-modal":h.hideOnClickModal,teleported:h.previewTeleported,"close-on-press-escape":h.closeOnPressEscape,onClose:W,onSwitch:$e},Te({toolbar:k(Y=>[I(h.$slots,"toolbar",Me(je(Y)))]),default:k(()=>[h.$slots.viewer?(g(),S("div",{key:0},[I(h.$slots,"viewer")])):$("v-if",!0)]),_:2},[h.$slots.progress?{name:"progress",fn:k(Y=>[I(h.$slots,"progress",Me(je(Y)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):$("v-if",!0)],64)):$("v-if",!0)],16))}});var ma=re(va,[["__file","image.vue"]]);const ga=we(ma),ya=se({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:s=>s>=0&&s<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:C(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:C([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:C(Function),default:s=>`${s}%`}}),ha=H({name:"ElProgress"}),ba=H({...ha,props:ya,setup(s){const o=s,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=ae("progress"),l=E(()=>{const i={width:`${o.percentage}%`,animationDuration:`${o.duration}s`},R=T(o.percentage);return R.includes("gradient")?i.background=R:i.backgroundColor=R,i}),d=E(()=>(o.strokeWidth/o.width*100).toFixed(1)),_=E(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(d.value)/2}`,10):0),O=E(()=>{const i=_.value,R=o.type==="dashboard";return`
          M 50 50
          m 0 ${R?"":"-"}${i}
          a ${i} ${i} 0 1 1 0 ${R?"-":""}${i*2}
          a ${i} ${i} 0 1 1 0 ${R?"":"-"}${i*2}
          `}),w=E(()=>2*Math.PI*_.value),f=E(()=>o.type==="dashboard"?.75:1),L=E(()=>`${-1*w.value*(1-f.value)/2}px`),p=E(()=>({strokeDasharray:`${w.value*f.value}px, ${w.value}px`,strokeDashoffset:L.value})),z=E(()=>({strokeDasharray:`${w.value*f.value*(o.percentage/100)}px, ${w.value}px`,strokeDashoffset:L.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),r=E(()=>{let i;return o.color?i=T(o.percentage):i=a[o.status]||a.default,i}),u=E(()=>o.status==="warning"?Tt:o.type==="line"?o.status==="success"?Qe:Pt:o.status==="success"?et:ze),t=E(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),m=E(()=>o.format(o.percentage));function c(i){const R=100/i.length;return i.map((N,A)=>Pe(N)?{color:N,percentage:(A+1)*R}:N).sort((N,A)=>N.percentage-A.percentage)}const T=i=>{var R;const{color:U}=o;if(tt(U))return U(i);if(Pe(U))return U;{const N=c(U);for(const A of N)if(A.percentage>i)return A.color;return(R=N[N.length-1])==null?void 0:R.color}};return(i,R)=>(g(),S("div",{class:y([e(n).b(),e(n).m(i.type),e(n).is(i.status),{[e(n).m("without-text")]:!i.showText,[e(n).m("text-inside")]:i.textInside}]),role:"progressbar","aria-valuenow":i.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[i.type==="line"?(g(),S("div",{key:0,class:y(e(n).b("bar"))},[P("div",{class:y(e(n).be("bar","outer")),style:G({height:`${i.strokeWidth}px`})},[P("div",{class:y([e(n).be("bar","inner"),{[e(n).bem("bar","inner","indeterminate")]:i.indeterminate},{[e(n).bem("bar","inner","striped")]:i.striped},{[e(n).bem("bar","inner","striped-flow")]:i.stripedFlow}]),style:G(e(l))},[(i.showText||i.$slots.default)&&i.textInside?(g(),S("div",{key:0,class:y(e(n).be("bar","innerText"))},[I(i.$slots,"default",{percentage:i.percentage},()=>[P("span",null,pe(e(m)),1)])],2)):$("v-if",!0)],6)],6)],2)):(g(),S("div",{key:1,class:y(e(n).b("circle")),style:G({height:`${i.width}px`,width:`${i.width}px`})},[(g(),S("svg",{viewBox:"0 0 100 100"},[P("path",{class:y(e(n).be("circle","track")),d:e(O),stroke:`var(${e(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":i.strokeLinecap,"stroke-width":e(d),fill:"none",style:G(e(p))},null,14,["d","stroke","stroke-linecap","stroke-width"]),P("path",{class:y(e(n).be("circle","path")),d:e(O),stroke:e(r),fill:"none",opacity:i.percentage?1:0,"stroke-linecap":i.strokeLinecap,"stroke-width":e(d),style:G(e(z))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(i.showText||i.$slots.default)&&!i.textInside?(g(),S("div",{key:2,class:y(e(n).e("text")),style:G({fontSize:`${e(t)}px`})},[I(i.$slots,"default",{percentage:i.percentage},()=>[i.status?(g(),j(e(V),{key:1},{default:k(()=>[(g(),j(Ge(e(u))))]),_:1})):(g(),S("span",{key:0},pe(e(m)),1))])],6)):$("v-if",!0)],10,["aria-valuenow"]))}});var ka=re(ba,[["__file","progress.vue"]]);const wa=we(ka),ot=Symbol("uploadContextKey"),_a="ElUpload";class $a extends Error{constructor(o,a,n,l){super(o),this.name="UploadAjaxError",this.status=a,this.method=n,this.url=l}}function Ke(s,o,a){let n;return a.response?n=`${a.response.error||a.response}`:a.responseText?n=`${a.responseText}`:n=`fail to ${o.method} ${s} ${a.status}`,new $a(n,a.status,o.method,s)}function Ca(s){const o=s.responseText||s.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}const Ea=s=>{typeof XMLHttpRequest>"u"&&De(_a,"XMLHttpRequest is undefined");const o=new XMLHttpRequest,a=s.action;o.upload&&o.upload.addEventListener("progress",d=>{const _=d;_.percent=d.total>0?d.loaded/d.total*100:0,s.onProgress(_)});const n=new FormData;if(s.data)for(const[d,_]of Object.entries(s.data))Ne(_)&&_.length?n.append(d,..._):n.append(d,_);n.append(s.filename,s.file,s.file.name),o.addEventListener("error",()=>{s.onError(Ke(a,s,o))}),o.addEventListener("load",()=>{if(o.status<200||o.status>=300)return s.onError(Ke(a,s,o));s.onSuccess(Ca(o))}),o.open(s.method,a,!0),s.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);const l=s.headers||{};if(l instanceof Headers)l.forEach((d,_)=>o.setRequestHeader(_,d));else for(const[d,_]of Object.entries(l))at(_)||o.setRequestHeader(d,String(_));return o.send(n),o},nt=["text","picture","picture-card"];let Sa=1;const Oe=()=>Date.now()+Sa++,rt=se({action:{type:String,default:"#"},headers:{type:C(Object)},method:{type:String,default:"post"},data:{type:C([Object,Function,Promise]),default:()=>ge({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:C(Array),default:()=>ge([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:nt,default:"text"},httpRequest:{type:C(Function),default:Ea},disabled:Boolean,limit:Number}),La=se({...rt,beforeUpload:{type:C(Function),default:M},beforeRemove:{type:C(Function)},onRemove:{type:C(Function),default:M},onChange:{type:C(Function),default:M},onPreview:{type:C(Function),default:M},onSuccess:{type:C(Function),default:M},onProgress:{type:C(Function),default:M},onError:{type:C(Function),default:M},onExceed:{type:C(Function),default:M},crossorigin:{type:C(String)}}),Ra=se({files:{type:C(Array),default:()=>ge([])},disabled:{type:Boolean,default:!1},handlePreview:{type:C(Function),default:M},listType:{type:String,values:nt,default:"text"},crossorigin:{type:C(String)}}),Ta={remove:s=>!!s},Pa=H({name:"ElUploadList"}),Oa=H({...Pa,props:Ra,emits:Ta,setup(s,{emit:o}){const a=s,{t:n}=Ie(),l=ae("upload"),d=ae("icon"),_=ae("list"),O=_e(),w=B(!1),f=E(()=>[l.b("list"),l.bm("list",a.listType),l.is("disabled",a.disabled)]),L=p=>{o("remove",p)};return(p,z)=>(g(),j(zt,{tag:"ul",class:y(e(f)),name:e(_).b()},{default:k(()=>[(g(!0),S(ne,null,Fe(p.files,(r,u)=>(g(),S("li",{key:r.uid||r.name,class:y([e(l).be("list","item"),e(l).is(r.status),{focusing:w.value}]),tabindex:"0",onKeydown:st(t=>!e(O)&&L(r),["delete"]),onFocus:t=>w.value=!0,onBlur:t=>w.value=!1,onClick:t=>w.value=!1},[I(p.$slots,"default",{file:r,index:u},()=>[p.listType==="picture"||r.status!=="uploading"&&p.listType==="picture-card"?(g(),S("img",{key:0,class:y(e(l).be("list","item-thumbnail")),src:r.url,crossorigin:p.crossorigin,alt:""},null,10,["src","crossorigin"])):$("v-if",!0),r.status==="uploading"||p.listType!=="picture-card"?(g(),S("div",{key:1,class:y(e(l).be("list","item-info"))},[P("a",{class:y(e(l).be("list","item-name")),onClick:oe(t=>p.handlePreview(r),["prevent"])},[b(e(V),{class:y(e(d).m("document"))},{default:k(()=>[b(e(Ot))]),_:1},8,["class"]),P("span",{class:y(e(l).be("list","item-file-name")),title:r.name},pe(r.name),11,["title"])],10,["onClick"]),r.status==="uploading"?(g(),j(e(wa),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(r.percentage),style:G(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):$("v-if",!0)],2)):$("v-if",!0),P("label",{class:y(e(l).be("list","item-status-label"))},[p.listType==="text"?(g(),j(e(V),{key:0,class:y([e(d).m("upload-success"),e(d).m("circle-check")])},{default:k(()=>[b(e(Qe))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(g(),j(e(V),{key:1,class:y([e(d).m("upload-success"),e(d).m("check")])},{default:k(()=>[b(e(et))]),_:1},8,["class"])):$("v-if",!0)],2),e(O)?$("v-if",!0):(g(),j(e(V),{key:2,class:y(e(d).m("close")),onClick:t=>L(r)},{default:k(()=>[b(e(ze))]),_:2},1032,["class","onClick"])),$(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),$(" This is a bug which needs to be fixed "),$(" TODO: Fix the incorrect navigation interaction "),e(O)?$("v-if",!0):(g(),S("i",{key:3,class:y(e(d).m("close-tip"))},pe(e(n)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(g(),S("span",{key:4,class:y(e(l).be("list","item-actions"))},[P("span",{class:y(e(l).be("list","item-preview")),onClick:t=>p.handlePreview(r)},[b(e(V),{class:y(e(d).m("zoom-in"))},{default:k(()=>[b(e(xe))]),_:1},8,["class"])],10,["onClick"]),e(O)?$("v-if",!0):(g(),S("span",{key:0,class:y(e(l).be("list","item-delete")),onClick:t=>L(r)},[b(e(V),{class:y(e(d).m("delete"))},{default:k(()=>[b(e(It))]),_:1},8,["class"])],10,["onClick"]))],2)):$("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),I(p.$slots,"append")]),_:3},8,["class","name"]))}});var Xe=re(Oa,[["__file","upload-list.vue"]]);const Ia=se({disabled:{type:Boolean,default:!1}}),za={file:s=>Ne(s)},lt="ElUploadDrag",Fa=H({name:lt}),Na=H({...Fa,props:Ia,emits:za,setup(s,{emit:o}){Ft(ot)||De(lt,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=ae("upload"),l=B(!1),d=_e(),_=w=>{if(d.value)return;l.value=!1,w.stopPropagation();const f=Array.from(w.dataTransfer.files),L=w.dataTransfer.items||[];f.forEach((p,z)=>{var r;const u=L[z],t=(r=u?.webkitGetAsEntry)==null?void 0:r.call(u);t&&(p.isDirectory=t.isDirectory)}),o("file",f)},O=()=>{d.value||(l.value=!0)};return(w,f)=>(g(),S("div",{class:y([e(n).b("dragger"),e(n).is("dragover",l.value)]),onDrop:oe(_,["prevent"]),onDragover:oe(O,["prevent"]),onDragleave:oe(L=>l.value=!1,["prevent"])},[I(w.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Da=re(Na,[["__file","upload-dragger.vue"]]);const Ba=se({...rt,beforeUpload:{type:C(Function),default:M},onRemove:{type:C(Function),default:M},onStart:{type:C(Function),default:M},onSuccess:{type:C(Function),default:M},onProgress:{type:C(Function),default:M},onError:{type:C(Function),default:M},onExceed:{type:C(Function),default:M}}),Ua=H({name:"ElUploadContent",inheritAttrs:!1}),Aa=H({...Ua,props:Ba,setup(s,{expose:o}){const a=s,n=ae("upload"),l=_e(),d=be({}),_=be(),O=t=>{if(t.length===0)return;const{autoUpload:m,limit:c,fileList:T,multiple:i,onStart:R,onExceed:U}=a;if(c&&T.length+t.length>c){U(t,T);return}i||(t=t.slice(0,1));for(const N of t){const A=N;A.uid=Oe(),R(A),m&&w(A)}},w=async t=>{if(_.value.value="",!a.beforeUpload)return L(t);let m,c={};try{const i=a.data,R=a.beforeUpload(t);c=Ve(a.data)?He(a.data):a.data,m=await R,Ve(a.data)&&jt(i,c)&&(c=He(a.data))}catch{m=!1}if(m===!1){a.onRemove(t);return}let T=t;m instanceof Blob&&(m instanceof File?T=m:T=new File([m],t.name,{type:t.type})),L(Object.assign(T,{uid:t.uid}),c)},f=async(t,m)=>tt(t)?t(m):t,L=async(t,m)=>{const{headers:c,data:T,method:i,withCredentials:R,name:U,action:N,onProgress:A,onSuccess:ve,onError:le,httpRequest:ie}=a;try{m=await f(m??T,t)}catch{a.onRemove(t);return}const{uid:X}=t,J={headers:c||{},withCredentials:R,file:t,data:m,method:i,filename:U,action:N,onProgress:W=>{A(W,t)},onSuccess:W=>{ve(W,t),delete d.value[X]},onError:W=>{le(W,t),delete d.value[X]}},Q=ie(J);d.value[X]=Q,Q instanceof Promise&&Q.then(J.onSuccess,J.onError)},p=t=>{const m=t.target.files;m&&O(Array.from(m))},z=()=>{l.value||(_.value.value="",_.value.click())},r=()=>{z()};return o({abort:t=>{Nt(d.value).filter(t?([c])=>String(t.uid)===c:()=>!0).forEach(([c,T])=>{T instanceof XMLHttpRequest&&T.abort(),delete d.value[c]})},upload:w}),(t,m)=>(g(),S("div",{class:y([e(n).b(),e(n).m(t.listType),e(n).is("drag",t.drag),e(n).is("disabled",e(l))]),tabindex:e(l)?"-1":"0",onClick:z,onKeydown:st(oe(r,["self"]),["enter","space"])},[t.drag?(g(),j(Da,{key:0,disabled:e(l),onFile:O},{default:k(()=>[I(t.$slots,"default")]),_:3},8,["disabled"])):I(t.$slots,"default",{key:1}),P("input",{ref_key:"inputRef",ref:_,class:y(e(n).e("input")),name:t.name,disabled:e(l),multiple:t.multiple,accept:t.accept,type:"file",onChange:p,onClick:oe(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var qe=re(Aa,[["__file","upload-content.vue"]]);const We="ElUpload",Ye=s=>{var o;(o=s.url)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(s.url)},Ma=(s,o)=>{const a=Vt(s,"fileList",void 0,{passive:!0}),n=r=>a.value.find(u=>u.uid===r.uid);function l(r){var u;(u=o.value)==null||u.abort(r)}function d(r=["ready","uploading","success","fail"]){a.value=a.value.filter(u=>!r.includes(u.status))}function _(r){a.value=a.value.filter(u=>u.uid!==r.uid)}const O=(r,u)=>{const t=n(u);t&&(console.error(r),t.status="fail",_(t),s.onError(r,t,a.value),s.onChange(t,a.value))},w=(r,u)=>{const t=n(u);t&&(s.onProgress(r,t,a.value),t.status="uploading",t.percentage=Math.round(r.percent))},f=(r,u)=>{const t=n(u);t&&(t.status="success",t.response=r,s.onSuccess(r,t,a.value),s.onChange(t,a.value))},L=r=>{at(r.uid)&&(r.uid=Oe());const u={name:r.name,percentage:0,status:"ready",size:r.size,raw:r,uid:r.uid};if(s.listType==="picture-card"||s.listType==="picture")try{u.url=URL.createObjectURL(r)}catch(t){Qt(We,t.message),s.onError(t,u,a.value)}a.value=[...a.value,u],s.onChange(u,a.value)},p=async r=>{const u=r instanceof File?n(r):r;u||De(We,"file to be removed not found");const t=m=>{l(m),_(m),s.onRemove(m,a.value),Ye(m)};s.beforeRemove?await s.beforeRemove(u,a.value)!==!1&&t(u):t(u)};function z(){a.value.filter(({status:r})=>r==="ready").forEach(({raw:r})=>{var u;return r&&((u=o.value)==null?void 0:u.upload(r))})}return fe(()=>s.listType,r=>{r!=="picture-card"&&r!=="picture"||(a.value=a.value.map(u=>{const{raw:t,url:m}=u;if(!m&&t)try{u.url=URL.createObjectURL(t)}catch(c){s.onError(c,u,a.value)}return u}))}),fe(a,r=>{for(const u of r)u.uid||(u.uid=Oe()),u.status||(u.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:l,clearFiles:d,handleError:O,handleProgress:w,handleStart:L,handleSuccess:f,handleRemove:p,submit:z,revokeFileObjectURL:Ye}},ja=H({name:"ElUpload"}),Va=H({...ja,props:La,setup(s,{expose:o}){const a=s,n=_e(),l=be(),{abort:d,submit:_,clearFiles:O,uploadFiles:w,handleStart:f,handleError:L,handleRemove:p,handleSuccess:z,handleProgress:r,revokeFileObjectURL:u}=Ma(a,l),t=E(()=>a.listType==="picture-card"),m=E(()=>({...a,fileList:w.value,onStart:f,onProgress:r,onSuccess:z,onError:L,onRemove:p}));return Dt(()=>{w.value.forEach(u)}),Bt(ot,{accept:Ut(a,"accept")}),o({abort:d,submit:_,clearFiles:O,handleStart:f,handleRemove:p}),(c,T)=>(g(),S("div",null,[e(t)&&c.showFileList?(g(),j(Xe,{key:0,disabled:e(n),"list-type":c.listType,files:e(w),crossorigin:c.crossorigin,"handle-preview":c.onPreview,onRemove:e(p)},Te({append:k(()=>[b(qe,ke({ref_key:"uploadRef",ref:l},e(m)),{default:k(()=>[c.$slots.trigger?I(c.$slots,"trigger",{key:0}):$("v-if",!0),!c.$slots.trigger&&c.$slots.default?I(c.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)]),_:2},[c.$slots.file?{name:"default",fn:k(({file:i,index:R})=>[I(c.$slots,"file",{file:i,index:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$("v-if",!0),!e(t)||e(t)&&!c.showFileList?(g(),j(qe,ke({key:1,ref_key:"uploadRef",ref:l},e(m)),{default:k(()=>[c.$slots.trigger?I(c.$slots,"trigger",{key:0}):$("v-if",!0),!c.$slots.trigger&&c.$slots.default?I(c.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)):$("v-if",!0),c.$slots.trigger?I(c.$slots,"default",{key:2}):$("v-if",!0),I(c.$slots,"tip"),!e(t)&&c.showFileList?(g(),j(Xe,{key:3,disabled:e(n),"list-type":c.listType,files:e(w),crossorigin:c.crossorigin,"handle-preview":c.onPreview,onRemove:e(p)},Te({_:2},[c.$slots.file?{name:"default",fn:k(({file:i,index:R})=>[I(c.$slots,"file",{file:i,index:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$("v-if",!0)]))}});var Ha=re(Va,[["__file","upload.vue"]]);const Ka=we(Ha),Xa=H({__name:"OCR",setup(s){const o={eng:"英语",chi_sim:"简体中文",chi_tra:"繁体中文",jpn:"日语"},a=B(),n=B("eng"),l=B(""),d=async()=>{const w=await Kt();w&&(a.value=w)},_=w=>{l.value="",w.raw&&(a.value={blob:w.raw,url:URL.createObjectURL(w.raw)})};fe([a,n],([w,f])=>{if(!w)return;const L=Xt();Ht.recognize(w.blob,f).then(({data:{text:p}})=>{l.value=p}).finally(()=>{L.close()})});const O=()=>{l.value=l.value.replace(/\n/g,"")};return(w,f)=>{const L=ga,p=qt,z=Wt,r=At,u=Ka,t=ta,m=ea,c=Gt;return g(),S(ne,null,[a.value?(g(),j(z,{key:0},{default:k(()=>[b(p,{span:24},{default:k(()=>[b(L,{src:a.value?.url},null,8,["src"])]),_:1})]),_:1})):$("",!0),b(z,{justify:"space-around",align:"middle"},{default:k(()=>[b(p,{span:7},{default:k(()=>[b(r,{onClick:d,size:"large",type:"primary"},{default:k(()=>f[2]||(f[2]=[he("从剪切板读取图片")])),_:1,__:[2]})]),_:1}),b(p,{span:7},{default:k(()=>[b(u,{accept:"image/*",limit:1,"auto-upload":!1,"on-change":_,"show-file-list":!1},{default:k(()=>[b(r,{size:"large",type:"primary"},{default:k(()=>f[3]||(f[3]=[he("从文件选取图片")])),_:1,__:[3]})]),_:1})]),_:1}),b(p,{span:7},{default:k(()=>[b(r,{size:"large",type:"primary",disabled:!l.value,onClick:O},{default:k(()=>f[4]||(f[4]=[he("去除换行")])),_:1,__:[4]},8,["disabled"])]),_:1}),b(p,{span:3},{default:k(()=>[b(m,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=T=>n.value=T),size:"large"},{default:k(()=>[(g(),S(ne,null,Fe(o,(T,i)=>b(t,{key:i,label:T,value:i},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l.value?(g(),j(z,{key:1},{default:k(()=>[b(p,null,{default:k(()=>[b(c,{modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=T=>l.value=T),type:"textarea",resize:"none",autosize:{minRows:20}},null,8,["modelValue"])]),_:1})]),_:1})):$("",!0)],64)}}}),qa=aa(Xa,[["__scopeId","data-v-2bbcbffe"]]),rs={__name:"ocr.html",setup(s){return(o,a)=>(g(),S("div",null,[a[0]||(a[0]=P("h1",{id:"ocr",tabindex:"-1"},[P("a",{class:"header-anchor",href:"#ocr"},[P("span",null,"OCR")])],-1)),b(e(qa))]))}},ls=JSON.parse('{"path":"/tools/docs/ocr.html","title":"OCR","lang":"zh-CN","frontmatter":{"description":"OCR","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OCR\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-15T09:24:35.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ppg007.github.io/tools/docs/ocr.html"}],["meta",{"property":"og:site_name","content":"PPG007 的文档"}],["meta",{"property":"og:title","content":"OCR"}],["meta",{"property":"og:description","content":"OCR"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-15T09:24:35.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-15T09:24:35.000Z"}]]},"git":{"createdTime":1747301075000,"updatedTime":1747301075000,"contributors":[{"name":"Koston Zhuang","username":"","email":"koston.zhuang@maiscrm.com","commits":1}]},"readingTime":{"minutes":0.03,"words":10},"filePathRelative":"tools/docs/ocr.md","excerpt":"\\n","autoDesc":true}');export{rs as comp,ls as data};
