import{aF as se,f as ce,a3 as ae,a7 as de,e as ne,a0 as xe,aa as F,a4 as D,ai as Te,b8 as Fe,bB as Me,W as g,Q as we,bX as ve,K as M,cl as De,bA as Oe,bk as Le,bz as ze,V as $e,b5 as Ke,aL as be,g as R,bo as Ge,cm as Ue,bh as We,a9 as je,aR as Re,an as pe,a2 as _e,bG as ye,ao as He,a8 as S,ay as H,ak as Ye,a5 as Xe,aP as Ze,aN as qe,at as Je,aS as J,ar as Qe,as as en,bj as nn,c as re,o as B,aJ as ge,aA as Ne,u as s,aZ as he,ac as ue,w as Q,h as ee,aV as tn,cn as an,aC as Ee,bW as ln,bv as on,c7 as sn,aE as rn,ah as un,ae as cn}from"./app-UKhqlS50.js";import{P as ie}from"./vnode-BPIXNz8H.js";import{t as dn}from"./index-CTgqRUrQ.js";import{U as w,t as Ae,I as te,C as Be,d as Ce}from"./error-BmLTv-zV.js";import{a as fn}from"./index-9Zr1pXq-.js";import{b as mn,E as vn}from"./index-DXcwqp50.js";import{v as Se}from"./index-Ce64LBZT.js";import{E as Ie}from"./aria-BUADUvnR.js";const bn=n=>{if(!n)return{onClick:se,onMousedown:se,onMouseup:se};let m=!1,c=!1;return{onClick:d=>{m&&c&&n(d),m=c=!1},onMousedown:d=>{m=d.target===d.currentTarget},onMouseup:d=>{c=d.target===d.currentTarget}}},pn=ae({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:D([String,Array,Object])},zIndex:{type:D([String,Number])}}),yn={click:n=>n instanceof MouseEvent},gn="overlay";var Nn=ce({name:"ElOverlay",props:pn,emits:yn,setup(n,{slots:m,emit:c}){const o=de(gn),p=N=>{c("click",N)},{onClick:f,onMousedown:d,onMouseup:u}=bn(n.customMaskEvent?void 0:p);return()=>n.mask?ne("div",{class:[o.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:f,onMousedown:d,onMouseup:u},[F(m,"default")],ie.STYLE|ie.CLASS|ie.PROPS,["onClick","onMouseup","onMousedown"]):xe("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[F(m,"default")])}});const Mn=Nn,Dn=Symbol("dialogInjectionKey"),Ve="dialog-fade",hn=ae({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Te},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),On={close:()=>!0},Ln=ae({...hn,appendToBody:Boolean,appendTo:{type:dn.to.type,default:"body"},beforeClose:{type:D(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:D([String,Object]),default:void 0}}),zn={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[w]:n=>Fe(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},En=(n,m={})=>{Me(n)||Ae("[useLockscreen]","You need to pass a ref param to this function");const c=m.ns||de("popup"),o=g(()=>c.bm("parent","hidden"));if(!we||ve(document.body,o.value))return;let p=0,f=!1,d="0";const u=()=>{setTimeout(()=>{typeof document>"u"||f&&document&&(document.body.style.width=d,ze(document.body,o.value))},200)};M(n,N=>{if(!N){u();return}f=!ve(document.body,o.value),f&&(d=document.body.style.width,Oe(document.body,o.value)),p=fn(c.namespace.value);const h=document.documentElement.clientHeight<document.body.scrollHeight,I=Le(document.body,"overflowY");p>0&&(h||I==="scroll")&&f&&(document.body.style.width=`calc(100% - ${p}px)`)}),De(()=>u())},$n=(n,m)=>{var c;const p=$e().emit,{nextZIndex:f}=Ke();let d="";const u=be(),N=be(),h=R(!1),I=R(!1),k=R(!1),_=R((c=n.zIndex)!=null?c:f());let V,E;const P=Ge(),O=g(()=>{var a,r;return(r=(a=P.value)==null?void 0:a.namespace)!=null?r:Ue}),A=g(()=>{var a;return(a=P.value)==null?void 0:a.dialog}),Y=g(()=>{const a={},r=`--${O.value}-dialog`;return n.fullscreen||(n.top&&(a[`${r}-margin-top`]=n.top),n.width&&(a[`${r}-width`]=We(n.width))),a}),le=g(()=>{var a,r,y;return((y=(r=n.draggable)!=null?r:(a=A.value)==null?void 0:a.draggable)!=null?y:!1)&&!n.fullscreen}),x=g(()=>{var a,r,y;return(y=(r=n.alignCenter)!=null?r:(a=A.value)==null?void 0:a.alignCenter)!=null?y:!1}),L=g(()=>{var a,r,y;return(y=(r=n.overflow)!=null?r:(a=A.value)==null?void 0:a.overflow)!=null?y:!1}),z=g(()=>x.value?{display:"flex"}:{}),T=g(()=>{var a,r,y;const b=(y=(r=n.transition)!=null?r:(a=A.value)==null?void 0:a.transition)!=null?y:Ve,ke={name:b,onAfterEnter:$,onBeforeLeave:G,onAfterLeave:K};if(je(b)){const C={...b},oe=(q,Pe)=>fe=>{Re(q)?q.forEach(me=>{pe(me)&&me(fe)}):pe(q)&&q(fe),Pe()};return C.onAfterEnter=oe(C.onAfterEnter,$),C.onBeforeLeave=oe(C.onBeforeLeave,G),C.onAfterLeave=oe(C.onAfterLeave,K),C.name||(C.name=Ve),C}return ke});function $(){p("opened")}function K(){p("closed"),p(w,!1),n.destroyOnClose&&(k.value=!1)}function G(){p("close")}function X(){E?.(),V?.(),n.openDelay&&n.openDelay>0?{stop:V}=ye(()=>Z(),n.openDelay):Z()}function U(){V?.(),E?.(),n.closeDelay&&n.closeDelay>0?{stop:E}=ye(()=>e(),n.closeDelay):e()}function W(){function a(r){r||(I.value=!0,h.value=!1)}n.beforeClose?n.beforeClose(a):U()}function j(){n.closeOnClickModal&&W()}function Z(){we&&(h.value=!0)}function e(){h.value=!1}function t(){p("openAutoFocus")}function l(){p("closeAutoFocus")}function i(a){var r;((r=a.detail)==null?void 0:r.focusReason)==="pointer"&&a.preventDefault()}n.lockScroll&&En(h);function v(){n.closeOnPressEscape&&W()}return M(()=>n.zIndex,()=>{var a;_.value=(a=n.zIndex)!=null?a:f()}),M(()=>n.modelValue,a=>{var r;a?(I.value=!1,X(),k.value=!0,_.value=(r=n.zIndex)!=null?r:f(),He(()=>{p("open"),m.value&&(m.value.parentElement.scrollTop=0,m.value.parentElement.scrollLeft=0,m.value.scrollTop=0)})):h.value&&U()}),M(()=>n.fullscreen,a=>{m.value&&(a?(d=m.value.style.transform,m.value.style.transform=""):m.value.style.transform=d)}),_e(()=>{n.modelValue&&(h.value=!0,k.value=!0,X())}),{afterEnter:$,afterLeave:K,beforeLeave:G,handleClose:W,onModalClick:j,close:U,doClose:e,onOpenAutoFocus:t,onCloseAutoFocus:l,onCloseRequested:v,onFocusoutPrevented:i,titleId:u,bodyId:N,closed:I,style:Y,overlayDialogStyle:z,rendered:k,visible:h,zIndex:_,transitionConfig:T,_draggable:le,_alignCenter:x,_overflow:L}},Cn=ae({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:Boolean,size:Ye,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||S(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...mn(["ariaLabel"]),inputmode:{type:D(String),default:void 0},align:{type:D(String),default:"center"},disabledScientific:Boolean}),Sn={[Be]:(n,m)=>m!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[te]:n=>S(n)||H(n),[w]:n=>S(n)||H(n)},In=ce({name:"ElInputNumber"}),Vn=ce({...In,props:Cn,emits:Sn,setup(n,{expose:m,emit:c}){const o=n,{t:p}=Ze(),f=de("input-number"),d=R(),u=qe({currentValue:o.modelValue,userInput:null}),{formItem:N}=Je(),h=g(()=>S(o.modelValue)&&o.modelValue<=o.min),I=g(()=>S(o.modelValue)&&o.modelValue>=o.max),k=g(()=>{const e=A(o.step);return J(o.precision)?Math.max(A(o.modelValue),e):(e>o.precision,o.precision)}),_=g(()=>o.controls&&o.controlsPosition==="right"),V=Qe(),E=en(),P=g(()=>{if(u.userInput!==null)return u.userInput;let e=u.currentValue;if(H(e))return"";if(S(e)){if(Number.isNaN(e))return"";J(o.precision)||(e=e.toFixed(o.precision))}return e}),O=(e,t)=>{if(J(t)&&(t=k.value),t===0)return Math.round(e);let l=String(e);const i=l.indexOf(".");if(i===-1||!l.replace(".","").split("")[i+t])return e;const r=l.length;return l.charAt(r-1)==="5"&&(l=`${l.slice(0,Math.max(0,r-1))}6`),Number.parseFloat(Number(l).toFixed(t))},A=e=>{if(H(e))return 0;const t=e.toString(),l=t.indexOf(".");let i=0;return l!==-1&&(i=t.length-l-1),i},Y=(e,t=1)=>S(e)?e>=Number.MAX_SAFE_INTEGER&&t===1||e<=Number.MIN_SAFE_INTEGER&&t===-1?e:O(e+o.step*t):u.currentValue,le=e=>{var t;const l=e;if(o.disabledScientific&&["e","E"].includes(l.key)){l.preventDefault();return}const i={[Ie.up]:()=>{l.preventDefault(),x()},[Ie.down]:()=>{l.preventDefault(),L()}};(t=i[l.key])==null||t.call(i)},x=()=>{if(o.readonly||E.value||I.value)return;const e=Number(P.value)||0,t=Y(e);T(t),c(te,u.currentValue),j()},L=()=>{if(o.readonly||E.value||h.value)return;const e=Number(P.value)||0,t=Y(e,-1);T(t),c(te,u.currentValue),j()},z=(e,t)=>{const{max:l,min:i,step:v,precision:a,stepStrictly:r,valueOnClear:y}=o;l<i&&Ae("InputNumber","min should not be greater than max.");let b=Number(e);if(H(e)||Number.isNaN(b))return null;if(e===""){if(y===null)return null;b=un(y)?{min:i,max:l}[y]:y}return r&&(b=O(Math.round(b/v)*v,a),b!==e&&t&&c(w,b)),J(a)||(b=O(b,a)),(b>l||b<i)&&(b=b>l?l:i,t&&c(w,b)),b},T=(e,t=!0)=>{var l;const i=u.currentValue,v=z(e);if(!t){c(w,v);return}i===v&&e||(u.userInput=null,c(w,v),i!==v&&c(Be,v,i),o.validateEvent&&((l=N?.validate)==null||l.call(N,"change").catch(a=>Ce())),u.currentValue=v)},$=e=>{u.userInput=e;const t=e===""?null:Number(e);c(te,t),T(t,!1)},K=e=>{const t=e!==""?Number(e):"";(S(t)&&!Number.isNaN(t)||e==="")&&T(t),j(),u.userInput=null},G=()=>{var e,t;(t=(e=d.value)==null?void 0:e.focus)==null||t.call(e)},X=()=>{var e,t;(t=(e=d.value)==null?void 0:e.blur)==null||t.call(e)},U=e=>{c("focus",e)},W=e=>{var t,l;u.userInput=null,u.currentValue===null&&((t=d.value)!=null&&t.input)&&(d.value.input.value=""),c("blur",e),o.validateEvent&&((l=N?.validate)==null||l.call(N,"blur").catch(i=>Ce()))},j=()=>{u.currentValue!==o.modelValue&&(u.currentValue=o.modelValue)},Z=e=>{document.activeElement===e.target&&e.preventDefault()};return M(()=>o.modelValue,(e,t)=>{const l=z(e,!0);u.userInput===null&&l!==t&&(u.currentValue=l)},{immediate:!0}),M(()=>o.precision,()=>{u.currentValue=z(o.modelValue)}),_e(()=>{var e;const{min:t,max:l,modelValue:i}=o,v=(e=d.value)==null?void 0:e.input;if(v.setAttribute("role","spinbutton"),Number.isFinite(l)?v.setAttribute("aria-valuemax",String(l)):v.removeAttribute("aria-valuemax"),Number.isFinite(t)?v.setAttribute("aria-valuemin",String(t)):v.removeAttribute("aria-valuemin"),v.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),v.setAttribute("aria-disabled",String(E.value)),!S(i)&&i!=null){let a=Number(i);Number.isNaN(a)&&(a=null),c(w,a)}v.addEventListener("wheel",Z,{passive:!1})}),nn(()=>{var e,t;const l=(e=d.value)==null?void 0:e.input;l?.setAttribute("aria-valuenow",`${(t=u.currentValue)!=null?t:""}`)}),m({focus:G,blur:X}),(e,t)=>(B(),re("div",{class:ue([s(f).b(),s(f).m(s(V)),s(f).is("disabled",s(E)),s(f).is("without-controls",!e.controls),s(f).is("controls-right",s(_)),s(f).is(e.align,!!e.align)]),onDragstart:rn(()=>{},["prevent"])},[e.controls?ge((B(),re("span",{key:0,role:"button","aria-label":s(p)("el.inputNumber.decrease"),class:ue([s(f).e("decrease"),s(f).is("disabled",s(h))]),onKeydown:he(L,["enter"])},[F(e.$slots,"decrease-icon",{},()=>[ne(s(Ee),null,{default:Q(()=>[s(_)?(B(),ee(s(tn),{key:0})):(B(),ee(s(an),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[s(Se),L]]):Ne("v-if",!0),e.controls?ge((B(),re("span",{key:1,role:"button","aria-label":s(p)("el.inputNumber.increase"),class:ue([s(f).e("increase"),s(f).is("disabled",s(I))]),onKeydown:he(x,["enter"])},[F(e.$slots,"increase-icon",{},()=>[ne(s(Ee),null,{default:Q(()=>[s(_)?(B(),ee(s(ln),{key:0})):(B(),ee(s(on),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[s(Se),x]]):Ne("v-if",!0),ne(s(vn),{id:e.id,ref_key:"input",ref:d,type:"number",step:e.step,"model-value":s(P),placeholder:e.placeholder,readonly:e.readonly,disabled:s(E),size:s(V),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,inputmode:e.inputmode,onKeydown:le,onBlur:W,onFocus:U,onInput:$,onChange:K},sn({_:2},[e.$slots.prefix?{name:"prefix",fn:Q(()=>[F(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:Q(()=>[F(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],42,["onDragstart"]))}});var wn=Xe(Vn,[["__file","input-number.vue"]]);const Kn=cn(wn);export{Mn as E,hn as a,Dn as b,zn as c,On as d,Ln as e,bn as f,Kn as g,$n as u};
